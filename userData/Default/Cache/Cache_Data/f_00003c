{"version":3,"file":"anonymousUser.49e486234a8c57538121.js","mappings":"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","sources":["xhh/./webapp-static/js/HH/Form/TooltipContent.mustache","xhh/./webapp-static/js/HH/Search/SaveSearchSuccess.mustache","xhh/./webapp-static/js/HH/Tooltip/MultiLineTemplate.mustache","xhh/./webapp-static/js/HH/AjaxContentLoader.js","xhh/./webapp-static/js/HH/Analytics/SendButtonClick.js","xhh/./webapp-static/js/HH/Bloko/FormattedNumericInput.js","xhh/./webapp-static/js/HH/Bloko/NameCapitalize.js","xhh/./webapp-static/js/HH/Bloko/Notification.js","xhh/./webapp-static/js/HH/Bloko/PopupSwitcher.js","xhh/./webapp-static/js/HH/Bloko/StateChanger.js","xhh/./webapp-static/js/HH/Bloko/Toggle.js","xhh/./webapp-static/js/HH/Firebase.js","xhh/./webapp-static/js/HH/FloodlightTracker.js","xhh/./webapp-static/js/HH/Form.js","xhh/./webapp-static/js/HH/Form/BaseForm.js","xhh/./webapp-static/js/HH/Form/BaseFormTemplate.js","xhh/./webapp-static/js/HH/Form/ChangableErrorElement.js","xhh/./webapp-static/js/HH/Form/Element.js","xhh/./webapp-static/js/HH/Form/Module.js","xhh/./webapp-static/js/HH/Message.js","xhh/./webapp-static/js/HH/Pages/Article/AlbumSlider.js","xhh/./webapp-static/js/HH/Pages/Article/SetCuts.js","xhh/./webapp-static/js/HH/Search/SaveSearch.js","xhh/./webapp-static/js/HH/SendAnalyticsEvent.ts","xhh/./webapp-static/js/HH/Social/Share.js","xhh/./webapp-static/js/HH/Social/ShareCounter.js","xhh/./webapp-static/js/HH/Supernova/Overlay.js","xhh/./webapp-static/js/HH/Tooltip/Hover.js","xhh/./webapp-static/js/HH/Tooltip/MultiLineHover.js","xhh/./webapp-static/js/HH/UseHHAnalytics.ts","xhh/./webapp-static/js/HH/Vishnu.js","xhh/./webapp-static/js/HH/WebPush/HTMLConfirm.js","xhh/./webapp-static/js/HH/WebPush/Subscribe.js","xhh/./webapp-static/js/HHC/Components.js","xhh/./webapp-static/js/HHC/Debug/Grid.js","xhh/./webapp-static/js/HHC/SupportChat.js","xhh/./webapp-static/js/Utils/Callbacks.js","xhh/./webapp-static/js/Utils/Strings.js","xhh/./webapp-static/js/Utils/WaitIframeContent.js"],"sourcesContent":["var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<span data-qa=\\\"bloko-tooltip-message bloko-tooltip-message_error\\\">\");t.b(t.t(t.f(\"html\",c,p,0)));t.b(\"</span>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<span data-qa=\\\"bloko-tooltip-message bloko-tooltip-message_error\\\">{{{html}}}</span>\\n\", H);return T; }();","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<span class=\\\"bloko-notification__heading\\\">\");t.b(\"\\n\" + i);t.b(\"    \");t.b(t.v(t.f(\"title\",c,p,0)));t.b(\"\\n\" + i);if(t.s(t.f(\"link\",c,p,1),c,p,0,70,165,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <a class=\\\"bloko-link bloko-link_disable-visited\\\" href=\\\"\");t.b(t.v(t.f(\"link\",c,p,0)));t.b(\"\\\">\");t.b(t.v(t.f(\"linkText\",c,p,0)));t.b(\"</a>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"</span>\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"bloko-notification__footer\\\">\");t.b(\"\\n\" + i);t.b(\"    \");t.b(t.v(t.f(\"text\",c,p,0)));t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<span class=\\\"bloko-notification__heading\\\">\\n    {{title}}\\n    {{#link}}\\n        <a class=\\\"bloko-link bloko-link_disable-visited\\\" href=\\\"{{link}}\\\">{{linkText}}</a>\\n    {{/link}}\\n</span>\\n<div class=\\\"bloko-notification__footer\\\">\\n    {{text}}\\n</div>\\n\", H);return T; }();","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");if(t.s(t.f(\"elements\",c,p,1),c,p,0,13,31,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"    <p>\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"</p>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"<div class=\\\"Bloko-Tooltip-Arrow\\\"></div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"{{#elements}}\\n    <p>{{.}}</p>\\n{{/elements}}\\n<div class=\\\"Bloko-Tooltip-Arrow\\\"></div>\\n\", H);return T; }();","import blokoEvent from 'bloko/common/event';\nimport LoadingSetter from 'bloko/common/loadingSetter';\nimport ready from 'bloko/common/ready';\n\nimport axios from 'HHC/Axios';\nimport Components from 'HHC/Components';\n\nconst STATE = {\n    ERROR: 'error',\n    LOADING: 'loading',\n    READY: 'ready',\n};\n\nconst AjaxContentLoader = (element, params) => {\n    const content = element.querySelector('.HH-AjaxContentLoader-Content');\n    const loadingSetter = new LoadingSetter(element.querySelector('.HH-AjaxContentLoader-Loading'));\n    let state = null;\n\n    const load = async () => {\n        if (state === STATE.LOADING || state === STATE.READY) {\n            return;\n        }\n        element.dispatchEvent(blokoEvent('startLoading'));\n        loadingSetter.start();\n        state = STATE.LOADING;\n        let response;\n        try {\n            response = await axios.get(params.loadFrom, { params: params.queryParams });\n        } catch (error) {\n            state = STATE.ERROR;\n        }\n        if (response?.data) {\n            content.classList.remove('g-hidden');\n            content.innerHTML = response.data;\n            Components.init(content);\n            element.classList.remove('g-hidden');\n            state = STATE.READY;\n        }\n        element.dispatchEvent(blokoEvent('HH-AjaxContentLoader-Loaded'));\n        element.dispatchEvent(blokoEvent('stopLoading'));\n        loadingSetter.stop();\n    };\n\n    if (params.loadOnInit) {\n        load();\n    }\n    if (params.loadOnClick) {\n        element.addEventListener('click', load);\n    }\n    element.addEventListener('HH-AjaxContentLoader-Load', load);\n    ready.resolve(element, 'HH-AjaxContentLoader');\n};\n\n/**\n * Отправляет AJAX-запрос по заданному адресу и, если ответ не пустой, вставляет его в блок с классом\n * .HH-AjaxContentLoader-Content внутри текущего элемента.\n *\n * @see {@link HH/Loader}\n * Пока запрос выполняется, можно показывать индикатор загрузки.\n *\n * @fires startLoading\n * @fires stopLoading\n * @listens HH-AjaxContentLoader-Load — начать загрузку\n * @listens click - начать загрузку\n *\n * @param {Object}  params\n * @param {String}  params.loadFrom            URL для AJAX-запроса\n * @param {Boolean} [params.loadOnInit=true]   отправлять запрос при инициализации\n * @param {Boolean} [params.loadOnClick=false] отправлять запрос при клике на элемент\n *\n * @name HH/AjaxContentLoader\n * @constructor\n */\nexport default Components.build({ create: AjaxContentLoader, defaults: { loadOnInit: true, loadOnClick: false } });\n","import Analytics from '@hh.ru/analytics-js';\n\nimport Components from 'HHC/Components';\n\nexport default Components.build({\n    create(element, params) {\n        const { name, ...eventData } = params;\n        element.addEventListener('click', () => {\n            Analytics.sendHHEventButtonClick(name, eventData);\n        });\n    },\n});\n","import FormattedNumericInput from 'bloko/blocks/formattedNumericInput/formattedNumericInput';\n\nimport Components from 'HHC/Components';\n\nexport default Components.build({\n    create(element, params) {\n        return Components.make(FormattedNumericInput, element, params);\n    },\n});\n","import NameCapitalize from 'bloko/blocks/nameCapitalize/nameCapitalize';\n\nimport Components from 'HHC/Components';\n\nexport default Components.build({\n    create(element, params) {\n        return Components.make(NameCapitalize, element, params);\n    },\n});\n","import notificationCloseButtonClick from '@hh.ru/analytics-js-events/build/xhh/common/notifications/notification_close_button_click';\nimport notificationElementShown from '@hh.ru/analytics-js-events/build/xhh/common/notifications/notification_element_shown';\nimport notificationManager from 'bloko/blocks/notificationManager/notificationManager';\n\nimport Components from 'HHC/Components';\n\nconst Notification = (element, { closeTriggerSelector, onClose: originalOnClose, notificationName, ...params }) => {\n    const onClose = () => {\n        originalOnClose?.();\n        if (notificationName) {\n            notificationCloseButtonClick({ notificationName });\n        }\n    };\n\n    if (params.content) {\n        return notificationManager.create(params);\n    }\n\n    const notificationContent = element.querySelector('.HH-BlokoNotification-Content');\n    const notification = notificationManager.create({\n        ...params,\n        onClose,\n        content: notificationContent,\n    });\n\n    if (closeTriggerSelector) {\n        notificationContent.querySelector(closeTriggerSelector).addEventListener('click', notification.close);\n    }\n\n    if (notificationName) {\n        notificationElementShown(element, { notificationName });\n    }\n\n    return notification;\n};\n\nexport default Components.build({ create: Notification });\n","import $ from 'jquery';\n\nimport Analytics from '@hh.ru/analytics-js';\nimport Modal from 'bloko/blocks/modal/modal';\n\nimport Components from 'HHC/Components';\n\nfunction PopupSwitcher(element, params) {\n    this.$element = $(element);\n    this.params = params;\n    this.bindings = {\n        switcher: '.HH-Bloko-PopupSwitcher-Switcher',\n        popup: `.${this.params.classname}`,\n    };\n    this.init = function (element, params) {\n        const popupSwitcher = Components.make(Modal, $(this.bindings.popup, this.$element).get(0), params);\n        $(this.bindings.switcher, this.$element).on('click', () => {\n            if (params.analyticsEvent) {\n                Analytics.sendHHEvent(params.analyticsEvent, {});\n            }\n            popupSwitcher.show();\n        });\n    };\n    this.init(element, params);\n}\nexport default Components.build({\n    defaults: { classname: 'HH-Bloko-PopupSwitcher-Popup' },\n    create(element, params) {\n        return new PopupSwitcher(element, params);\n    },\n});\n","import StateChanger from 'bloko/blocks/stateChanger/stateChanger';\n\nimport Components from 'HHC/Components';\n\nexport default Components.build({\n    create(element, params) {\n        return Components.make(StateChanger, element, params);\n    },\n});\n","import Toggle from 'bloko/blocks/toggle/toggle';\n\nimport Components from 'HHC/Components';\n\nexport default Components.build(Toggle);\n","import firebaseApp from '@firebase/app';\nimport '@firebase/messaging';\n\nfirebaseApp.initializeApp({\n    messagingSenderId: window.globalVars.firebaseMessagingSenderId,\n    projectId: window.globalVars.firebaseProjectId,\n    apiKey: window.globalVars.firebaseApiKey,\n    appId: window.globalVars.firebaseAppId,\n});\n\nexport default firebaseApp;\n","import Components from 'HHC/Components';\n\nimport SendFloodlightConversion from 'HH/SendFloodlightConversion';\n\nexport default Components.build({\n    create(element, params) {\n        if (params.loadOnInit) {\n            SendFloodlightConversion(params);\n            return;\n        }\n        element.addEventListener('click', () => SendFloodlightConversion(params));\n    },\n});\n","import Components from 'HHC/Components';\n\nimport formModule from 'HH/Form/Module';\n\nfunction Form(element, params) {\n    formModule.json = params;\n    formModule.deferred.resolve();\n}\nexport default Components.build({\n    defaults: { messages: { _default: {} } },\n    create(element, params) {\n        return new Form(element, params);\n    },\n});\n","import Components from 'HHC/Components';\n\nimport baseFormTemplate from 'HH/Form/BaseFormTemplate';\n\nconst BaseForm = function (element, params) {\n    baseFormTemplate.init.bind(this)(element, params);\n};\nBaseForm.prototype = baseFormTemplate;\nexport default Components.build({\n    create(element, params) {\n        return new BaseForm(element, params);\n    },\n});\n","import $ from 'jquery';\n\nimport Callbacks from 'Utils/Callbacks';\n\nimport form from 'HH/Form/Module';\n\nexport default new (function () {\n    /**\n     * @ignore\n     * @param {Element} element\n     * @param {Object} params\n     * @param {String} [params.namespace] при заданном неймспейсе валидироваться будут только поля с тем же\n     * неймспейсом\n     * @param {Boolean} [params.serverValidation] флаг того, что форма была провалидирована сервером\n     */\n    this.init = function (element, params) {\n        this.$element = $(element);\n        this.params = params;\n        if (this.$element.hasClass('HH-Form-Form')) {\n            this.$form = this.$element;\n        } else {\n            this.$form = $('.HH-Form-Form', this.$element);\n        }\n        $(this.infoTemplate).detach();\n        this.invalidFields = [];\n        this.allFields = {};\n        this.isCheckFirstPassed = false;\n        Callbacks.add('HH-Form-New', this.doField.bind(this), '*');\n        $(document).on('HH-Form-RemoveField', this.removeField.bind(this));\n        $('.HH-Form-SubmitButton', this.$element).prop('disabled', false);\n        this.$form.on('HH-Form-Reset', () => {\n            form.getFields(params.namespace).forEach((field) => {\n                field.collection.reset();\n            });\n        });\n        this.$form.on('submit', (e, options) => {\n            if (options && options.isValid) {\n                return;\n            }\n            e.preventDefault();\n            this.checkFormValidation();\n        });\n    };\n    this.checkFormValidation = function () {\n        const deferreds = [];\n        form.getFields(this.params.namespace).forEach((field) => {\n            field.collection.visited = true;\n            if (field.collection.async) {\n                deferreds.push(field.collection.validateElements());\n            } else {\n                field.collection.validateElements();\n            }\n        });\n        $.when.apply(null, deferreds).done(() => {\n            if (this.invalidFields.length) {\n                this.allFields[this.invalidFields[0]].focusFirstInvalidElement();\n            } else {\n                Object.keys(this.allFields).forEach((key) => {\n                    this.allFields[key].beforeSubmit();\n                });\n                this.$form.trigger('submit', { isValid: true });\n            }\n        });\n    };\n    this.doField = function (field) {\n        if (this.params.namespace && field.namespace !== this.params.namespace) {\n            return;\n        }\n        const uid = field.uid;\n        this.allFields[uid] = field;\n        if (this.params.serverValidation) {\n            this.allFields[uid].visited = true;\n        }\n        Callbacks.add('HH-Form-Collection-Change', this.checkStatus.bind(this, field), field);\n        this.validateField(uid);\n    };\n    this.validateField = function (uid) {\n        let formObj = {};\n        const element = this.allFields[uid].element;\n        form.getFields(this.params.namespace).forEach((val) => {\n            if (val.element === element) {\n                formObj = val;\n            }\n        });\n        form.validate(formObj);\n    };\n    this.checkStatus = function (field) {\n        const uid = field.uid;\n        const index = this.invalidFields.indexOf(uid);\n        const isInInvalids = index !== -1;\n        const isValid = field.isValid;\n        if (isValid && isInInvalids) {\n            this.invalidFields.splice(index, 1);\n        } else if (!isValid && !isInInvalids) {\n            this.invalidFields.push(uid);\n        } else if (!this.isCheckFirstPassed) {\n            this.isCheckFirstPassed = true;\n        } else {\n            return;\n        }\n        this.invalidFields = this.params.sortByPosition\n            ? this.invalidFields.sort(this.sortByPosition.bind(this))\n            : this.invalidFields.sort();\n    };\n    this.sortByPosition = function (a, b) {\n        const aTop = $(this.allFields[a].element).offset().top;\n        const bTop = $(this.allFields[b].element).offset().top;\n        if (aTop === bTop) {\n            return 0;\n        }\n        return aTop < bTop ? -1 : 1;\n    };\n    this.removeField = function (e, options) {\n        const uid = options.field.collection.uid;\n        const index = this.invalidFields.indexOf(uid);\n        if (index !== -1) {\n            this.invalidFields.splice(index, 1);\n        }\n        delete this.allFields[uid];\n    };\n})();\n","import $ from 'jquery';\n\nimport formElement from 'HH/Form/Element';\n\nconst ChangableErrorElement = function () {\n    this.init = function (element, collection) {\n        const $element = $(element);\n        this.parts = { string: $('.HH-Form-ChangableError-Value', element)[0] };\n        this.additionalError = '';\n        this.errorText = '';\n        this.keepTooltip = false;\n        $element.on('HH-ChangableError-Add', (event, data) => {\n            if (this.collection.name === data.fieldName) {\n                this.additionalError = data.error;\n                this.errorText = data.errorText || this.collection.getMessage(data.error);\n                this.keepTooltip = data.keepTooltip;\n            }\n            this.collection.validateElements();\n            !data.noFocus && this.collection.focusFirstInvalidElement();\n        });\n        $element.on('change', this.reValidate.bind(this));\n        this.initElement(element, collection);\n    };\n    this.validatePart = function (key) {\n        return [key, formElement.validatePart.bind(this)(key)[1] || this.additionalError];\n    };\n    this.reValidate = function () {\n        this.additionalError = '';\n        this.collection.validateElements();\n    };\n    this.getPartError = function (key, error) {\n        // error - строка и нужно проверять, что она не пустая,\n        // потому что getPartError вызывается на каждый blur\n        if (error && error === this.additionalError) {\n            return this.errorText;\n        }\n        return ChangableErrorElement.prototype.getPartError.call(this, key, error);\n    };\n    this.hideTooltip = function () {\n        if (!this.keepTooltip) {\n            formElement.hideTooltip.call(this);\n        }\n    };\n};\nChangableErrorElement.prototype = formElement;\nexport default new ChangableErrorElement();\n","import $ from 'jquery';\n\nimport Tip, { TipPlacement } from 'bloko/blocks/drop/Tip/tip';\nimport validitySetter from 'bloko/common/validitySetter';\n\nimport Components from 'HHC/Components';\nimport Debug from 'HHC/Debug';\nimport scrollToElement from 'Utils/ScrollToElement';\nimport Strings from 'Utils/Strings';\n\n// eslint-disable-next-line no-unused-vars\nimport form from 'HH/Form/Module';\nimport TooltipContentTemplate from 'HH/Form/TooltipContent.mustache';\n\nconst contains = (needle, haystack) =>\n    (typeof haystack === 'string' || Array.isArray(haystack)) && haystack.includes(needle);\n\nconst conversion = (num, [one, many, some, zero = '']) =>\n    `${num} ${num === 0 ? zero : Strings.pluralize(num, [one, some, many])}`;\n\nexport default new (function () {\n    this.initElement = function (element, collection) {\n        this.preInitElement();\n        this.element = element;\n        this.$element = $(element);\n        this.collection = collection;\n        this.$remove = $(this.element.querySelector('.HH-Form-Element-Remove') || '<div>');\n        this.$removeLink = $(this.element.querySelector('.HH-Form-Element-RemoveLink') || '<div>');\n        this.removeText = $('.HH-Form-Element-RemoveText', this.$element).text();\n        this.$removeLink.on('click', this.remove.bind(this));\n        this.additionalElementsToWatch = this.additionalElementsToWatch || [];\n        this.validateHidden = typeof this.validateHidden === 'undefined' ? false : this.validateHidden;\n        this.setValidAfterChanges = typeof this.setValidAfterChanges === 'undefined' ? true : this.setValidAfterChanges;\n        this.visited = {};\n        if (this.$element.hasClass('HH-Form-Element-TooltipElement')) {\n            this.$tooltipElements = this.$element;\n        } else {\n            this.$tooltipElements = $('.HH-Form-Element-TooltipElement', this.$element);\n        }\n        this.tooltipInstance = null;\n        this.conditions = this.prepareConditions(collection);\n        this.watch({ elements: Object.values(this.parts).concat(this.additionalElementsToWatch) });\n        this.emptyValue = '';\n    };\n    this.isEmpty = function (keys) {\n        if (keys) {\n            return keys.every((key) => this.getPartValue(key) === this.emptyValue);\n        }\n        return Object.keys(this.parts).every((key) => this.getPartValue(key) === this.emptyValue);\n    };\n    this.resetRequiredConditions = function () {\n        const conditions = $.extend(true, {}, this.collection.getConditions());\n        if (typeof conditions.mincount !== 'undefined') {\n            Object.keys(this.parts).forEach((key) => {\n                const condition = conditions[key];\n                if (condition) {\n                    condition.required = conditions.mincount > 0;\n                }\n            });\n        }\n        this.conditions = conditions;\n    };\n    this.isCheckboxOrRadio = function (element) {\n        return ['checkbox', 'radio'].indexOf(element.type) !== -1;\n    };\n    this.getTooltipElement = function (key) {\n        if (key && this.visibleTooltipParts?.[key]) {\n            return $(this.visibleTooltipParts[key]).filter(':visible').get(0);\n        }\n        if (key && this.tooltipParts?.[key]) {\n            return $(this.tooltipParts[key]).get(0);\n        }\n        return this.$tooltipElements.get(0);\n    };\n    this.prepareConditions = function (collection) {\n        const conditions = $.extend(true, {}, collection.getConditions());\n        if (conditions.mincount !== 0) {\n            return conditions;\n        }\n        Object.keys(this.parts).forEach((key) => {\n            const condition = conditions[key];\n            if (condition) {\n                condition.required = false;\n            }\n        });\n        return conditions;\n    };\n    this.preInitElement = function () {};\n    this.getValue = function () {\n        return Object.entries(this.parts)\n            .map(([key, value]) => this.serializePart(key, value))\n            .filter((x) => x !== '')\n            .join('&');\n    };\n    this.serializePart = function (key) {\n        return `${key}=${this.getPartValue(key)}`;\n    };\n    this.getPartValue = function (key) {\n        const element = this.parts[key];\n        return (this.isCheckboxOrRadio(element) && !element.checked) || element.value === undefined\n            ? ''\n            : element.value.trim();\n    };\n    this.checkInteger = function (value, condition) {\n        if (value && condition.type === 'integer') {\n            const parsed = parseInt(value, 10);\n            if (isNaN(parsed)) {\n                return 'notInt';\n            }\n            if (condition.minvalue && value < condition.minvalue) {\n                return 'tooSmall';\n            }\n            if (condition.maxvalue && value > condition.maxvalue) {\n                return 'tooLate';\n            }\n        }\n        return undefined;\n    };\n    this.checkList = function (value, condition) {\n        let error;\n        if (value && condition.type === 'list') {\n            for (let i = 0; i < value.length; i++) {\n                if (condition.subtype === 'integer') {\n                    const result = this.checkInteger(condition, value[i]);\n                    if (result) {\n                        error = result;\n                        break;\n                    }\n                }\n            }\n            if (value && condition.minsize && value.length < condition.minsize) {\n                error = 'tooShortSize';\n            }\n            if (value && condition.maxsize && value.length > condition.maxsize) {\n                error = 'tooLongSize';\n            }\n        }\n        return error;\n    };\n    this.checkDate = function (value, condition) {\n        if (value && condition.type === 'date') {\n            const splittedvalue = value.split('-');\n            const splittedmin = condition.minvalue.split('-');\n            const splittedmax = condition.maxvalue.split('-');\n            const year = splittedvalue[0];\n            const month = parseInt(splittedvalue[1] - 1, 10);\n            const day = parseInt(splittedvalue[2], 10);\n            const date = new Date(year, month, day);\n            const mindate = new Date(splittedmin[0], splittedmin[1] - 1, splittedmin[2]);\n            const maxdate = new Date(splittedmax[0], splittedmax[1] - 1, splittedmax[2]);\n            const dayInMonth = new Date(new Date(year, month + 1, 1) - 1).getDate();\n\n            // months from 0 to 11, splited value contains 1-12, so -1\n            if (\n                isNaN(date.getTime()) ||\n                !`${year}`.match(/^[1-2][0-9]{3}/) ||\n                month < 0 ||\n                month > 11 ||\n                day <= 0 ||\n                day > dayInMonth\n            ) {\n                return 'notDate';\n            } else if (condition.minvalue && new Date(mindate).getTime() > date.getTime()) {\n                return 'tooEarly';\n            } else if (condition.maxvalue && new Date(maxdate).getTime() < date.getTime()) {\n                return 'tooLate';\n            }\n        }\n        return undefined;\n    };\n    this.getPartConditions = function (key) {\n        return this.conditions[key] || {};\n    };\n    this.validatePart = function (key) {\n        const part = this.parts[key];\n        if (!this.validateHidden && !$(part).is(':visible')) {\n            return [key, ''];\n        }\n        const value = this.getPartValue(key);\n        const condition = this.getPartConditions(key);\n        let error = '';\n        if (value && condition.not_in && contains(value, condition.not_in)) {\n            error = 'isIn';\n        }\n        if (value && condition.is_in && !contains(value, condition.is_in)) {\n            error = 'isNotIn';\n        }\n        const checkIntegerResult = this.checkInteger(value, condition);\n        if (checkIntegerResult) {\n            error = checkIntegerResult;\n        }\n        const checkListResult = this.checkList(value, condition);\n        if (checkListResult) {\n            error = checkListResult;\n        }\n        if (condition.required && !value) {\n            error = 'empty';\n        }\n        if (condition.enumeration && (!value || condition.enumeration.indexOf(value) === -1)) {\n            error = 'empty';\n        }\n        if (value && condition.minlength && value.length < condition.minlength) {\n            error = 'tooShort';\n        }\n        if (value && condition.maxlength && value.length > condition.maxlength) {\n            error = 'tooLong';\n        }\n        if (value && condition.regexp && !new RegExp(`^${condition.regexp}$`).test(value)) {\n            error = 'regexpFail';\n        }\n        const checkDateResult = this.checkDate(value, condition);\n        if (checkDateResult) {\n            error = checkDateResult;\n        }\n        return [key, error];\n    };\n    this.getCustomStatus = function () {};\n    this.getErrors = function (errors) {\n        return errors;\n    };\n    this.getStatus = function (errors) {\n        const currentErrors = this.getErrors(errors);\n        const status = this.getCustomStatus(currentErrors);\n        if (typeof status !== 'undefined') {\n            return status;\n        } else if (Object.values(currentErrors).every((error) => error === 'empty')) {\n            return 'empty';\n        } else if (Object.values(currentErrors).every((error) => error === '')) {\n            return '';\n        }\n        return 'invalid';\n    };\n    this.beforeValidate = function () {\n        if (!this.status) {\n            this.hideTooltip();\n        }\n        if (this.collection.visited) {\n            Object.keys(this.parts).forEach((key) => {\n                this.visited[key] = true;\n            });\n        }\n    };\n    this.validate = function () {\n        this.beforeValidate();\n        this.errors = Object.entries(this.parts)\n            .map(([key, value]) => this.validatePart(key, value))\n            .reduce((errors, [key, value]) => (errors[key] ? errors : { ...errors, [key]: value }), {});\n        this.afterValidate();\n        return this.status;\n    };\n    this.afterValidate = function () {\n        this.status = this.getStatus(this.errors);\n        this.setValidity(this.status === '');\n    };\n    this.getValidationElements = function (key) {\n        if (key) {\n            if (this.validitySetterParts?.[key]) {\n                return $(this.validitySetterParts[key]);\n            }\n            return $(this.parts[key]);\n        }\n        return $(\n            Object.keys(this.parts).reduce(\n                (elements, key) => elements.concat(this.validitySetterParts?.[key] || [this.parts[key]]),\n                []\n            )\n        );\n    };\n    this.initValiditySetters = function () {\n        this.getValidationElements()\n            .toArray()\n            .forEach((domElement) => {\n                validitySetter(domElement);\n            });\n    };\n    this.processChanges = function (key) {\n        if (key && this.isCheckboxOrRadio(this.parts[key])) {\n            this.visited[key] = true;\n        }\n        this.validate();\n        this.showError(key);\n        this.visited[key] = true;\n        if (this.setValidAfterChanges) {\n            this.getValidationElements(key).trigger('setValid');\n        }\n    };\n    this.findKey = function (object, value) {\n        for (const key in object) {\n            if (object.hasOwnProperty(key) && object[key] === value) {\n                return key;\n            }\n        }\n        return null;\n    };\n    this.validateOnBlur = function () {\n        this.hideTooltip();\n        return this.validate();\n    };\n    this.setValidity = function (isValid) {\n        if (Object.keys(this.visited).length === 0) {\n            this.getValidationElements().trigger('setValid');\n            return;\n        }\n        Object.keys(this.errors).forEach((key) => {\n            const action = this.errors[key] !== '' && this.visited[key] && !isValid ? 'setInvalid' : 'setValid';\n            this.getValidationElements(key).trigger(action);\n        });\n    };\n    this.showError = function (key) {\n        if ($.isEmptyObject(this.errors)) {\n            return;\n        }\n        const error = this.errors[key];\n        if (error) {\n            this.showPartError(this.getPartError(key, error), key);\n            return;\n        }\n        if (typeof key !== 'undefined') {\n            return;\n        }\n        Object.entries(this.errors).forEach(([key, value]) => {\n            this.showPartError(this.getPartError(key, value), key);\n        });\n    };\n    this.showPartError = function (html, key) {\n        if (!html) {\n            if (this.errors[key]) {\n                Debug.log('error out', 'No validation error provided', { key });\n            }\n            return;\n        }\n        this.tooltipInstance =\n            this.tooltipInstance ||\n            Components.make(Tip, this.getTooltipElement(key), {\n                placement: TipPlacement.Top,\n                html: TooltipContentTemplate.render({ html }),\n                theme: 'attention',\n            });\n\n        this.tooltipInstance.changeOptions({ html: TooltipContentTemplate.render({ html }) }).show();\n    };\n    this.getPartError = function (key, error) {\n        if (!error) {\n            return null;\n        }\n        const condition = this.getPartConditions(key);\n        const value = this.getPartValue(key);\n        const variants = this.collection.getMessage('variants');\n        switch (error) {\n            case 'empty':\n                if (this.visited[key]) {\n                    return this.collection.getMessage(error);\n                }\n                this.errors[key] = '';\n                return '';\n            case 'tooLong':\n                if (variants) {\n                    return Strings.printf(\n                        this.collection.getMessage(error),\n                        conversion(value.length - condition.maxlength, variants)\n                    );\n                }\n                return this.collection.getMessage(error);\n            case 'tooSmall':\n                return Strings.printf(this.collection.getMessage(error), [condition.minvalue, condition.message]);\n            case 'tooShort':\n                return Strings.printf(this.collection.getMessage(error), condition.minlength);\n            default:\n                return this.collection.getMessage(error);\n        }\n    };\n    this.remove = function () {\n        this.collection.remove(this);\n    };\n    this.toggleDeleteButton = function (hide) {\n        if (hide) {\n            this.$remove.addClass('g-hidden');\n        } else {\n            this.$remove.removeClass('g-hidden');\n        }\n    };\n    this.afterScrollCallback = function (key) {\n        const element = this.parts[key];\n        element.focus();\n        if (this.isCheckboxOrRadio(element)) {\n            this.processChanges(key);\n        }\n    };\n    this.watch = function (data) {\n        const elements = data.elements || [];\n        elements.forEach((element) => {\n            this.attachWatchEvents(element);\n        });\n    };\n    this.focusIfInvalid = function () {\n        const keys = Object.keys(this.errors);\n        for (let i = 0; i < keys.length; i++) {\n            const key = keys[i];\n            if (this.errors[key]) {\n                this.scrollToElement(this.getTooltipElement(key), this.afterScrollCallback.bind(this, key));\n                return true;\n            }\n        }\n        return false;\n    };\n    this.scrollToElement = function (element, callback) {\n        scrollToElement(element, { animationEndCallback: callback });\n    };\n    this.handleMainActionEvent = function (event) {\n        this.processChanges(this.findKey(this.parts, event.target));\n    };\n    this.attachWatchEvents = function (element, key) {\n        if (!element) {\n            return;\n        }\n        const mainActionEvent = this.isCheckboxOrRadio(element) ? 'change' : 'focus';\n        const mainActionEventHandler = key\n            ? this.processChanges.bind(this, key)\n            : this.handleMainActionEvent.bind(this);\n        $(element).on({\n            [mainActionEvent]: mainActionEventHandler,\n            blur: this.validateOnBlur.bind(this),\n            input: this.hideTooltip.bind(this),\n            change: this.hideTooltip.bind(this),\n        });\n    };\n    this.hideTooltip = function () {\n        if (this.tooltipInstance) {\n            this.tooltipInstance.hide();\n        }\n    };\n})();\n","import $ from 'jquery';\n\nexport default new (function () {\n    const $document = $(document);\n    this.PERIODICITY = 500;\n    this.fields = [];\n    this.validationsResults = {};\n    this.json = {};\n    this.deferred = $.Deferred();\n    this.add = function (get, callback, object) {\n        const field = {\n            callback,\n            get,\n            element: object.element,\n            collection: object,\n            namespace: object.namespace,\n        };\n        this.fields.push(field);\n        return {\n            freeze: this._freeze.bind(this, field),\n            unfreeze: this._unfreeze.bind(this, field),\n        };\n    };\n    this._freeze = function (field) {\n        field.stop = true;\n    };\n    this._unfreeze = function (field) {\n        field.stop = false;\n    };\n    this.validate = function (field) {\n        const value = field.get();\n        const visible = $(field.element).is(':visible');\n        if (field.stop || (value === field.value && visible === field.visible)) {\n            this.restartCheck();\n            return;\n        }\n        field.value = value;\n        field.visible = visible;\n        const result = field.callback();\n        if (result) {\n            this.validationsResults[result.name] = result;\n        }\n        this.restartCheck();\n    };\n    this.check = function () {\n        if (this.fields.length === 0) {\n            this.restartCheck();\n            return;\n        }\n        this.fields.forEach(this.validate, this);\n        if (this.json.dependantFields) {\n            this.validateDependantFields();\n        }\n    };\n    this.restartCheck = function () {\n        if (this.timer) {\n            window.clearTimeout(this.timer);\n        }\n        this.timer = window.setTimeout(this.check.bind(this), this.PERIODICITY);\n    };\n    this.getMessage = function (part, key) {\n        const messages = this.json.messages;\n        return messages[part] && messages[part][key] ? messages[part][key] : messages._default[key];\n    };\n    this.getConditions = function (field) {\n        return this.json.conditions[field] || {};\n    };\n    this.clearFields = function (container) {\n        this.fields = this.fields.filter((field) => {\n            const saveField = container.contains(field.element);\n            if (!saveField) {\n                $document.trigger('HH-Form-RemoveField', { field });\n            }\n            return saveField;\n        });\n    };\n    this.getFields = function (namespace) {\n        return !namespace\n            ? this.fields\n            : this.fields.filter((field) => {\n                  return field.namespace === namespace;\n              });\n    };\n    this.getValidationResults = function () {\n        return this.validationsResults;\n    };\n    this.clearCache = function () {\n        const dependantFields = this.json.dependantFields;\n        const dependantFieldsNames = [dependantFields.main, dependantFields.secondary];\n        this.fields\n            .filter((field) => dependantFieldsNames.indexOf(field.collection.name) !== -1)\n            .forEach((field) => {\n                field.value = null;\n                field.collection.resetRequiredConditions();\n            });\n    };\n    this.swapMinCount = function (first, second) {\n        if (first.mincount !== 1 || second.mincount !== 0) {\n            first.mincount = 1;\n            second.mincount = 0;\n            this.clearCache();\n        }\n    };\n    this.validateDependantFields = function () {\n        const dependantFields = this.json.dependantFields;\n        const mainResults = this.validationsResults[dependantFields.main];\n        const secondaryResults = this.validationsResults[dependantFields.secondary];\n        if (!mainResults || !secondaryResults) {\n            return;\n        }\n        const mainConditions = this.getConditions(dependantFields.main);\n        const secondaryConditions = this.getConditions(dependantFields.secondary);\n        if (mainConditions.validCount === 0 && secondaryConditions.validCount === 0) {\n            if (mainConditions.mincount !== 1 && secondaryConditions.mincount !== 1) {\n                mainConditions.mincount = 1;\n                secondaryConditions.mincount = 1;\n                this.clearCache();\n            }\n            return;\n        }\n        if (mainResults.validCount === 0 && secondaryResults.validCount > 0) {\n            this.swapMinCount(secondaryConditions, mainConditions);\n        } else {\n            this.swapMinCount(mainConditions, secondaryConditions);\n        }\n    };\n    this.check();\n})();\n","import $ from 'jquery';\n\nimport Components from 'HHC/Components';\n/**\n * Компонент для вывода сообщений.\n * Ловит события `showMessage` и `hideMessage`. <br>\n *\n * В параметрах события опционально передаётся имя, группа и контент сообщения (html). <br>\n * В дереве компонента ищутся элементы с указанным именем и группой в атрибутах `data-message-name`\n * и `data-message-group`, показываются или скрываются в зависимости от типа события.\n *\n * Сообщения одной группы работают как радиобаттоны: при выводе одного из них все остальные скрываются. <br>\n *\n * Если не указана группа, сообщение ищется только по имени. Если указаны одновременно и имя, и группа,\n * требуется наличие у элемента обоих дата-атрибутов во избежание конфликтов имён. Если указана только\n * группа, `showMessage` ничего не делает, `hideMessage` скрывает все сообщения группы.\n *\n * @listens showMessage\n * @listens hideMessage\n *\n * @example\n * // Показать/скрыть сообщение об отправке:\n * trigger('showMessage', {name: 'success'})\n * trigger('hideMessage', {name: 'success'})\n *\n * // Скрыть другие сообщения формы и показать ошибку бэкенда с произвольным текстом:\n * trigger('showMessage', {group: 'form', name: 'serverError', content: textStatus})\n *\n * // Скрыть все сообщения формы независимо от имени:\n * trigger('hideMessage', {group: 'form'})\n *\n * @name HH/Message\n * @constructor\n */\nfunction Message(element, params) {\n    this.$element = $(element);\n    this.params = params;\n    this.bindings = {\n        name: '[data-message-name=\"%s\"]',\n        group: '[data-message-group=\"%s\"]',\n    };\n    this.init = function () {\n        this.$element.on({\n            /**\n             * Показать сообщение.\n             * @param {Object} params           Параметры\n             * @param {String} params.name      Имя сообщения.\n             * @param {String} [params.group]   Группа.\n             * @param {String} [params.content] Содержимое, по умолчанию не меняется.\n             *\n             * @event showMessage\n             */\n            showMessage: function (event, params) {\n                if (params && params.name) {\n                    const nameSelector = this.selector('name', params.name);\n                    const groupSelector = this.selector('group', params.group);\n                    let $name = this.$element.find(nameSelector);\n                    let $group = $();\n                    if (params.group) {\n                        $group = this.$element.find(groupSelector);\n                        $name = $name.filter(groupSelector);\n                    }\n                    if (params.content) {\n                        $name.html(params.content);\n                    }\n                    this.toggle($group.not($name), false);\n                    this.toggle($name, true);\n                    event.stopPropagation();\n                }\n            }.bind(this),\n            /**\n             * Скрыть сообщение.\n             *\n             * @param {Object} params         Параметры\n             * @param {String} [params.name]  Имя сообщения.\n             * @param {String} [params.group] Группа.\n             *\n             * @event hideMessage\n             */\n            hideMessage: function (event, params) {\n                if (params && (params.name || params.group)) {\n                    let $messages;\n                    if (params.name) {\n                        $messages = this.$element.find(this.selector('name', params.name));\n                        if (params.group) {\n                            $messages = $messages.filter(this.selector('group', params.group));\n                        }\n                    } else {\n                        $messages = this.$element.find(this.selector('group', params.group));\n                    }\n                    this.toggle($messages, false);\n                    event.stopPropagation();\n                }\n            }.bind(this),\n        });\n    };\n    this.selector = function (name, value) {\n        return this.bindings[name].replace('%s', value);\n    };\n    this.toggle = function ($messages, visible) {\n        $messages.toggleClass(this.params.className.hidden, !visible);\n    };\n    this.init(element, params);\n}\nexport default Components.build({\n    defaults: { className: { hidden: 'g-hidden' } },\n    create(element, params) {\n        return new Message(element, params);\n    },\n});\n","import $ from 'jquery';\n\nimport Swipe from 'bloko/blocks/swipe/swipe';\nimport BlokoComponents from 'bloko/common/core/Components';\nimport LoadingSetter from 'bloko/common/loadingSetter';\n\nimport Components from 'HHC/Components';\n\nfunction AlbumSlider(element, params) {\n    this.$element = $(element);\n    this.params = params;\n    this.classItemActive = this.params.classItemActive;\n    this.classItemLoading = this.params.classItemLoading;\n    this.classArrowDisabled = this.params.classArrowDisabled;\n    this.construct();\n}\nAlbumSlider.prototype.construct = function () {\n    this.$list = this.$element.find('.HH-Pages-Article-AlbumSlider-List');\n    this.$items = this.$element.find('.HH-Pages-Article-AlbumSlider-Item');\n    this.$images = this.$element.find('.HH-Pages-Article-AlbumSlider-Image');\n    this.$current = this.$element.find('.HH-Pages-Article-AlbumSlider-Current');\n    this.$next = this.$element.find('.HH-Pages-Article-AlbumSlider-Next');\n    this.$prev = this.$element.find('.HH-Pages-Article-AlbumSlider-Prev');\n    this.$loaders = this.$element.find('.HH-Pages-Article-AlbumSlider-Loader');\n    this.length = this.$items.length;\n    this.index = 0;\n    this.init();\n};\nAlbumSlider.prototype.init = function () {\n    this.$images.on('load error', this.onImageProcessed.bind(this));\n    if (this.length > 1) {\n        this.$next.on('click', this.next.bind(this));\n        this.$prev.on('click', this.prev.bind(this));\n        this.$next.add(this.$prev).removeClass(this.classArrowDisabled);\n        const swipe = BlokoComponents.make(Swipe, this.$element[0], { preventingDefault: true });\n        swipe.on('bloko-swipe-prevent', this.onSwipePrevent.bind(this));\n        swipe.on('bloko-swipe-move', this.onSwipeMove.bind(this));\n        swipe.on('bloko-swipe-end', this.onSwipeEnd.bind(this));\n    }\n    $(window).on('resize', this.process.bind(this));\n    this.start();\n};\nAlbumSlider.prototype.start = function () {\n    this.process();\n    this.$element.find('.HH-Pages-Article-AlbumSlider-Total').text(this.length);\n    this.setCounter();\n};\nAlbumSlider.prototype.setCounter = function () {\n    this.$current.text(this.index + 1);\n};\nAlbumSlider.prototype.checkSwipeAbility = function (distance) {\n    return (distance < 0 && this.index !== this.length - 1) || (distance > 0 && this.index !== 0);\n};\nAlbumSlider.prototype.onSwipePrevent = function () {\n    this.toggleTransition();\n    this.animate();\n};\nAlbumSlider.prototype.onSwipeMove = function (e) {\n    if (!this.checkSwipeAbility(e.distance)) {\n        return;\n    }\n    this.toggleTransition(true);\n    this.animate(e.distance);\n};\nAlbumSlider.prototype.onSwipeEnd = function (e) {\n    this.toggleTransition();\n    if (!this.checkSwipeAbility(e.distance)) {\n        return;\n    }\n    if (e.direction === 1) {\n        this.next();\n    } else {\n        this.prev();\n    }\n};\nAlbumSlider.prototype.toggleTransition = function (off) {\n    const value = off ? 'none' : '';\n    this.$list.css({ transition: value });\n};\nAlbumSlider.prototype.onImageProcessed = function (e) {\n    const $image = $(e.target);\n    const $item = $image.closest(this.$items);\n    $item.removeClass(this.classItemLoading);\n    this.toggleLoader($item, true);\n};\nAlbumSlider.prototype.next = function () {\n    this.slide();\n};\nAlbumSlider.prototype.prev = function () {\n    this.slide(true);\n};\nAlbumSlider.prototype.clear = function () {\n    this.$items.removeClass(this.classItemActive);\n};\nAlbumSlider.prototype.slide = function (isPrev) {\n    if (isPrev) {\n        this.index -= 1;\n        this.index = this.index < 0 ? this.length - 1 : this.index;\n    } else {\n        this.index += 1;\n        this.index = this.index > this.length - 1 ? 0 : this.index;\n    }\n    this.clear();\n    this.process();\n    this.animate();\n    this.setCounter();\n};\nAlbumSlider.prototype.animate = function (distance) {\n    let offset = -100 * this.index;\n    if (typeof distance !== 'undefined') {\n        offset += (distance / this.$items.width()) * 100;\n    }\n    this.$list.css({ transform: `translate3d(${offset}%, 0, 0)` });\n};\nAlbumSlider.prototype.process = function () {\n    const $item = this.$items.eq(this.index);\n    const $image = $item.find(this.$images);\n    if ($image.length) {\n        const src = this.getSource($image.data('srcset').split(', '));\n        if (src !== $image.attr('src')) {\n            $item.addClass(this.classItemLoading);\n            this.toggleLoader($item);\n            $image.attr('src', src);\n        }\n    }\n    $item.addClass(this.classItemActive);\n};\nAlbumSlider.prototype.toggleLoader = function ($target, stop) {\n    const $loader = $target.find(this.$loaders);\n    let loaderInstance = $loader.data('loaderInstance');\n    if (!loaderInstance) {\n        loaderInstance = new LoadingSetter($loader[0], 'AlbumSlider');\n        $loader.data('loaderInstance', loaderInstance);\n    }\n    if (stop) {\n        loaderInstance.stop();\n    } else {\n        loaderInstance.start();\n    }\n};\nAlbumSlider.prototype.getSource = function (srcset) {\n    // find image source url\n    // corresponding to current viewport(window) width\n    const windowWidth = window.innerWidth;\n    let k = 0;\n    // set initial viewport width\n    let srcVW = srcset[k].split(' ')[1] || 0;\n    if (windowWidth < srcVW) {\n        return srcset[k].split(' ')[0];\n    }\n    for (let i = 1; i < srcset.length; i++) {\n        // get next viewport width from srcset\n        const srcItemVW = srcset[i].split(' ')[1] || 0;\n        // check if it fits limits\n        if (srcItemVW <= windowWidth && srcItemVW > srcVW) {\n            srcVW = srcItemVW;\n            k = i;\n        }\n    }\n    return srcset[k].split(' ')[0];\n};\nexport default Components.build({\n    defaults: {\n        classItemActive: null,\n        classItemLoading: null,\n        classArrowDisabled: null,\n    },\n    create(element, params) {\n        return $('.HH-Pages-Article-AlbumSlider', element).each(function () {\n            new AlbumSlider(this, params);\n        });\n    },\n});\n","import $ from 'jquery';\n\nimport Components from 'HHC/Components';\n\nfunction SetCuts(element) {\n    this.$element = $(element);\n    $(\"[data-cut='cut']\", this.$element).each(function () {\n        $(\"[data-cut='cut-switcher']\", this).on('click', () => {\n            $(\"[data-cut='cut-content']\", this).toggle();\n        });\n    });\n}\nexport default Components.build({\n    create(element, params) {\n        return new SetCuts(element, params);\n    },\n});\n","import $ from 'jquery';\n\nimport Analytics from '@hh.ru/analytics-js';\nimport Modal from 'bloko/blocks/modal/modal';\nimport LoadingSetter from 'bloko/common/loadingSetter';\n\nimport Notification from 'HH/Bloko/Notification';\nimport 'HH/Message';\nimport Components from 'HHC/Components';\n\nimport SaveSearchSuccess from 'HH/Search/SaveSearchSuccess.mustache';\n\nfunction SaveSearchState() {\n    this.observers = [];\n    this.state = {\n        isSubscribed: false,\n    };\n    this.setState = (data) => {\n        const prevState = { ...this.state };\n        const newState = {\n            ...this.state,\n            ...data,\n        };\n        this.state = newState;\n\n        this.observers.forEach((func) => {\n            func(prevState, newState);\n        });\n    };\n}\n\nlet stateInstance = null;\n\nfunction SaveSearch(element, params) {\n    this.stateManager = stateInstance || (stateInstance = new SaveSearchState());\n    this.$element = $(element);\n    this.params = params;\n    this.init = function () {\n        this.params.emailRequired = this.params.emailRequired || false;\n        this.$messagesContainer = this.$element;\n        const $messagesContainer = $('.HH-Search-SaveSearch-MessagesContainer', this.$element);\n        if ($messagesContainer.length !== 0) {\n            this.$messagesContainer = $messagesContainer.first();\n        }\n        this.$error = $('.HH-Search-SaveSearch-Error', this.$element);\n        this.$save = $('.HH-Search-SaveSearch-Save', this.$element);\n        this.$save.prop('disabled', false);\n        this.$email = $('.HH-Search-SaveSearch-Email', this.$element);\n        this.$wrongEmail = $('.HH-Search-SaveSearch-WrongEmail', this.$element);\n        this.$mainLink = $('.HH-Search-SaveSearch-MainLink', this.$element);\n        this.$authButton = $('.HH-Search-SaveSearch-AuthButton', this.$element);\n        this.$okButton = $('.HH-Search-SaveSearch-OkButton', this.$element);\n        this.$modalSaveFom = $('.HH-Search-SaveSearch-Form', this.$element);\n        this.emailOnlyText = $('.HH-Search-SaveSearch-Success-ViewedEmailOnly', this.$element).html();\n        this.modalTrigger = element.querySelector('.HH-Bloko-Modal-Trigger');\n        this.modalContent = element.querySelector('.HH-Bloko-Modal-Content');\n        this.createLink();\n        this.$save.on('click', (event) => {\n            this.doSave(event);\n        });\n        this.$element.on('HH-Search-SaveSearch', (event) => {\n            this.isMap = true;\n            this.doSave(event);\n        });\n        this.$element.on('HH-Search-ChangeQuery', (e, query) => {\n            this.params.queryString = query;\n            this.createLink();\n        });\n        this.loading = new LoadingSetter(this.$save);\n\n        if (this.modalContent) {\n            this.modal = Components.make(Modal, this.modalContent);\n            this.modalTrigger &&\n                this.modalTrigger.addEventListener('click', () => {\n                    this.showModal();\n                });\n            this.modal.on('hid', () => {\n                this.$email.off('input change');\n            });\n        }\n\n        this.stateManager.observers.push((prevState, newState) => {\n            if (!prevState.isSubscribed && newState.isSubscribed) {\n                if (this.modal) {\n                    this.modal.hide();\n                }\n\n                if (!this.isMap) {\n                    this.$mainLink.hide();\n                }\n\n                this.$okButton.focus();\n                this.params.onSuccess && this.params.onSuccess();\n            }\n        });\n    };\n    this.showModal = function () {\n        this.modal.show();\n        // IE and FF focus fix (cant assign focus while JS code blocks reflow)\n        window.setTimeout(() => {\n            this.$email.focus();\n        }, 1);\n    };\n    this.createLink = function () {\n        this.href = this.params.href || this.params.baseUrl + this.params.queryString;\n    };\n    this.isEmailCorrect = function () {\n        return (\n            this.$email\n                .val()\n                .trim()\n                .search(/^[^\\s]+@[^\\s]+\\.[^\\s]+$/) !== -1\n        );\n    };\n    this.wrongEmailShow = function () {\n        this.$wrongEmail.removeClass('g-hidden');\n        this.$save.prop('disabled', true);\n    };\n    this.checkEmail = function () {\n        const mail = this.$email.val();\n        if (mail === this.lastEmail) {\n            return;\n        }\n        this.lastEmail = mail;\n        if (this.isEmailCorrect()) {\n            this.$save.prop('disabled', false);\n            this.$wrongEmail.addClass('g-hidden');\n        } else {\n            this.wrongEmailShow();\n        }\n    };\n    this.doSave = async function (event) {\n        event.preventDefault();\n        this.$error.addClass('g-hidden');\n        const href = this.href;\n        let searchData = {};\n        if (this.params.autosearchName) {\n            searchData = { autosearchName: this.params.autosearchName };\n        }\n        if (this.params.emailRequired) {\n            if (!this.isEmailCorrect()) {\n                this.$email.on('input change', this.checkEmail.bind(this));\n                this.wrongEmailShow();\n                return;\n            }\n            this.$save.prop('disabled', true);\n            searchData.email = this.$email.val();\n        }\n\n        this.loading.start();\n        await $.ajax({\n            url: href,\n            data: searchData,\n            type: 'POST',\n            cache: false,\n        })\n            .then(this.saveSuccess)\n            .catch(this.saveFailed);\n\n        this.loading.stop();\n    };\n    this.saveSuccess = (json) => {\n        switch (window.globalVars.userType) {\n            case 'applicant':\n                if (this.params.autosearchName) {\n                    Analytics.sendEvent('applicant', 'watch_for_vacancies', 'subscribe_employer_vacancies');\n                }\n                break;\n            case 'employer':\n                Analytics.sendEvent('employer', 'watch_for_resumes', 'subscribe_search_results');\n                break;\n        }\n        if (json.state === 'Success') {\n            Components.make(Notification, element, {\n                content: SaveSearchSuccess.render({\n                    title: params.successTitle,\n                    link: params.successLink,\n                    linkText: params.successLinkText,\n                    text: params.successText,\n                }),\n                type: 'ok',\n                autoClose: true,\n            });\n\n            if (!this.modal) {\n                this.$messagesContainer.trigger('showMessage', {\n                    name: 'saveSearch-success',\n                    group: 'saveSearch',\n                });\n            }\n\n            this.stateManager.setState({\n                isSubscribed: true,\n            });\n        } else {\n            this.$messagesContainer.trigger('showMessage', {\n                name: 'saveSearch-successEmailOnly',\n                group: 'saveSearch',\n                content: this.emailOnlyText + json.email,\n            });\n        }\n    };\n    this.saveFailed = (response) => {\n        if (response.status === 409) {\n            this.$messagesContainer.trigger('showMessage', {\n                name: 'saveSearch-authRequired',\n                group: 'saveSearch',\n            });\n            this.$authButton.focus();\n            this.$save.prop('disabled', false);\n        } else if (response.responseJSON?.state === 'WrongEmail') {\n            this.$email.on('input change', this.checkEmail.bind(this));\n            this.wrongEmailShow();\n        } else {\n            this.$messagesContainer.trigger('showMessage', {\n                name: 'saveSearch-before',\n                group: 'saveSearch',\n            });\n            if (this.$modalSaveFom.length === 0) {\n                Components.make(Notification, element, {\n                    content: params.errorText,\n                    type: 'error',\n                });\n            }\n            this.$error.removeClass('g-hidden');\n            this.$save.prop('disabled', false);\n        }\n    };\n    this.init(element, params);\n}\nexport default Components.build({\n    create(element, params) {\n        return new SaveSearch(element, params);\n    },\n});\n","import Analytics, { VendorAnalytics } from '@hh.ru/analytics-js';\nimport { AnalyticsParams } from '@hh.ru/analytics-js/lib/hhAnalytics';\nimport elementSpy, { Bound } from 'bloko/common/elementSpy';\n\nimport Components from 'HHC/Components';\n\ntype InternalEventParams = {\n    type: 'internal';\n    onEvent: string;\n    data: AnalyticsParams;\n};\n\ntype ExternalEventParams = {\n    type: 'external';\n    toStorage: boolean;\n    onEvent: string;\n    category: string;\n    action: string;\n    label: string;\n};\n\ntype Params = InternalEventParams | ExternalEventParams;\n\nconst sendInternalEvent = (element: HTMLElement, { data, onEvent }: InternalEventParams) => {\n    const eventHandler = () => {\n        Analytics.sendHHEvent(data.event || onEvent, data);\n    };\n\n    if (onEvent === 'ready') {\n        if (document.readyState === 'interactive' || document.readyState === 'complete') {\n            eventHandler();\n        } else {\n            document.addEventListener('DOMContentLoaded', eventHandler);\n        }\n    }\n\n    if (onEvent === 'shownInViewPort') {\n        const { stopSpying } = elementSpy(element, {\n            onShow() {\n                stopSpying();\n                Analytics.sendHHEvent(data.event || onEvent, data);\n            },\n            trackingBounds: [Bound.Top],\n        });\n\n        return;\n    }\n\n    element.addEventListener(onEvent, eventHandler);\n};\n\nconst sendExternalEvent = (\n    element: HTMLElement,\n    { category, action, label, toStorage, onEvent }: ExternalEventParams\n) => {\n    const eventHandler = () => {\n        if (toStorage) {\n            VendorAnalytics.eventToStorage(category, action, label);\n        } else {\n            Analytics.sendEvent(category, action, label);\n        }\n    };\n\n    if (onEvent === 'ready') {\n        if (document.readyState === 'interactive' || document.readyState === 'complete') {\n            eventHandler();\n        } else {\n            document.addEventListener('DOMContentLoaded', eventHandler);\n        }\n    } else if (onEvent === 'shownInViewPort') {\n        const { stopSpying } = elementSpy(element, {\n            onShow() {\n                stopSpying();\n                eventHandler();\n            },\n            trackingBounds: [Bound.Top],\n        });\n    } else {\n        element.addEventListener(onEvent, eventHandler);\n    }\n};\nclass SendAnalyticsEvent {\n    constructor(element: HTMLElement, params: Params) {\n        if (!element || !params) {\n            return;\n        }\n        if (params.type === 'external') {\n            sendExternalEvent(element, params);\n            return;\n        }\n        sendInternalEvent(element, params);\n    }\n}\n\nexport default Components.build<Params, void>({\n    defaults: {\n        type: 'internal',\n        data: {},\n        onEvent: '',\n    },\n    create(element, params) {\n        return new SendAnalyticsEvent(element, params);\n    },\n});\n","import $ from 'jquery';\n\nimport Analytics from '@hh.ru/analytics-js';\n\nimport Components from 'HHC/Components';\n\nconst POPUP = {\n    width: 500,\n    height: 400,\n};\nfunction Share(element, params) {\n    this.element = element;\n    $('.HH-Social-Share', this.element).on('click', function (event) {\n        event.preventDefault();\n        window.open(\n            this.href,\n            'socialShare',\n            `resizable=yes,top=${(screen.height - POPUP.height) / 2},left=${(screen.width - POPUP.width) / 2},height=${\n                POPUP.height\n            },width=${POPUP.width},noopener`\n        );\n        if (params.virtualUrl !== undefined) {\n            Analytics.trackPageView(params.virtualUrl + $(this).data('type'));\n        }\n    });\n}\nexport default Components.build({\n    create(element, params) {\n        return new Share(element, params);\n    },\n});\n","import $ from 'jquery';\n\nimport Components from 'HHC/Components';\n\nconst services = {\n    fb: {\n        url: 'https://graph.facebook.com/',\n        dataType: 'json',\n        getParams(url) {\n            return { ids: url };\n        },\n        getCounter(response, url) {\n            const share = response[url].share;\n            return (share && share.share_count) || 0;\n        },\n    },\n    vk: {\n        url: 'https://vk.com/share.php',\n        dataType: 'script',\n        getParams(url) {\n            return {\n                act: 'count',\n                index: '1',\n                url,\n            };\n        },\n        beforeAjax() {\n            if (!window.VK) {\n                window.VK = {};\n            }\n            window.VK.Share = {\n                count(index, count) {\n                    window.VK.Share.counter = count;\n                },\n            };\n        },\n        getCounter() {\n            return window.VK.Share.counter;\n        },\n    },\n    ok: {\n        url: 'https://connect.ok.ru/dk',\n        dataType: 'script',\n        getParams(url) {\n            return {\n                'st.cmd': 'extLike',\n                uid: 'odkl',\n                ref: url,\n            };\n        },\n        beforeAjax() {\n            if (!window.ODKL) {\n                window.ODKL = {};\n            }\n            window.ODKL = {\n                updateCount(uid, count) {\n                    window.ODKL.counter = count;\n                },\n            };\n        },\n        getCounter() {\n            return window.ODKL.counter;\n        },\n    },\n};\nfunction ShareCounter(element, params) {\n    this.$element = $(element);\n    this.$shares = this.$element.find('.HH-Social-Share');\n    const pageUrl = `${window.location.protocol}//${params.domain}${window.location.pathname}`;\n    for (const service in services) {\n        const serviceData = services[service];\n        const $item = this.$shares.filter(`[data-type=\"${service}\"]`);\n        send($item, serviceData, pageUrl);\n    }\n}\nfunction send($item, data, pageUrl) {\n    if (data.beforeAjax) {\n        data.beforeAjax();\n    }\n    $.ajax({\n        url: data.url,\n        data: data.getParams(pageUrl),\n        type: 'get',\n        dataType: data.dataType,\n    })\n        .then((response) => {\n            const counter = data.getCounter(response, pageUrl);\n            if (counter <= 0) {\n                return;\n            }\n            $item.find('.HH-Social-ShareCounter').removeClass('g-hidden').text(counter);\n        })\n        .catch(console.error);\n}\nexport default Components.build({\n    create(element, params) {\n        return new ShareCounter(element, params);\n    },\n});\n","import blokoEvent from 'bloko/common/event';\nimport Metrics from 'bloko/common/metrics';\n\nimport Components from 'HHC/Components';\n\nconst cssClasses = {\n    visible: 'supernova-overlay_visible',\n    noscroll: 'supernova-overlay-no-scroll',\n};\n\nfunction Overlay(element, { onShow }) {\n    let activeOverlay = null;\n\n    const getScrollbarWidth = () => `${Metrics.getScrollbarWidth()}px`;\n\n    const adjustOverlayPadding = () => {\n        if (activeOverlay !== null) {\n            element.style.paddingRight = element.clientHeight === element.scrollHeight ? getScrollbarWidth() : '';\n        } else {\n            element.style.paddingRight = '';\n        }\n    };\n\n    const disableScroll = () => {\n        element.classList.add(cssClasses.visible);\n        document.body.style.paddingRight = getScrollbarWidth();\n        document.body.classList.add(cssClasses.noscroll);\n    };\n\n    const enableScroll = () => {\n        element.classList.remove(cssClasses.visible);\n        document.body.style.paddingRight = '';\n        document.body.classList.remove(cssClasses.noscroll);\n    };\n\n    const toggleOverlay = (overlayName) => {\n        let activeOverlayName;\n        if (activeOverlay === null) {\n            disableScroll();\n            activeOverlayName = overlayName;\n        } else if (overlayName === activeOverlay.dataset.overlayName || overlayName === 'none') {\n            enableScroll();\n            activeOverlay.classList.add('g-hidden');\n            activeOverlayName = 'none';\n        } else {\n            activeOverlay.classList.add('g-hidden');\n            activeOverlayName = overlayName;\n        }\n\n        activeOverlay = element.querySelector(`.HH-Supernova-Overlay-Content[data-overlay-name=${activeOverlayName}]`);\n        if (activeOverlay !== null) {\n            activeOverlay.classList.remove('g-hidden');\n            activeOverlay.dispatchEvent(blokoEvent('HH-AjaxContentLoader-Load'));\n            if (typeof onShow === 'function') {\n                onShow(activeOverlayName);\n            }\n        }\n\n        adjustOverlayPadding();\n    };\n\n    const handleClick = (event) => {\n        if (event.target.closest('.HH-Supernova-Overlay-Toggle')) {\n            toggleOverlay(event.target.closest('.HH-Supernova-Overlay-Toggle').dataset.overlayName);\n        }\n    };\n\n    element.addEventListener('HH-AjaxContentLoader-Loaded', adjustOverlayPadding);\n    element.addEventListener('click', handleClick);\n\n    return { toggleOverlay };\n}\n\nexport default Components.build({ create: Overlay });\n","import $ from 'jquery';\n\nimport Tip from 'bloko/blocks/drop/Tip/tip';\n\nimport Components from 'HHC/Components';\nimport media from 'Utils/Media';\n\nconst selectors = {\n    tooltipContent: '.Bloko-Tooltip-Content',\n};\n\n/**\n *\n * @param element\n * @param params.allowContentHover - не скрывать при переводе курсора на контент\n * @param params.contentSelector - селектор, чтобы искать контент\n * @param params.hideTimeout - время в ms, которое есть у пользователя для перевода курсора\n *\n * Остальные параметры проксируются в http://tech.hh.ru/bloko/tooltipModule.html\n *\n * @constructor\n */\n\nfunction Hover(element, params) {\n    this.$element = $(element);\n    this.params = params;\n    if (this.params.contentSelector) {\n        this.params.html = element.querySelector(this.params.contentSelector).innerHTML;\n    }\n    if (this.params.allowContentHover) {\n        this.params.host = element;\n    }\n    this.init = function () {\n        this.tooltip = Components.make(Tip, element, this.params);\n\n        this.$element.on({\n            touchstart: this._handleTouchStart,\n            touchcancel: this._handleTouchCancel,\n            touchmove: this._handleTouchCancel,\n            touchend: this._handleTouchEnd,\n            mouseenter: this._handleMouseEnter,\n            mouseleave: this._handleMouseLeave,\n            mouseup: this._handleMouseUp,\n        });\n    };\n    this._handleTouchStart = function () {\n        if (!this.hoverHandled) {\n            this.hoverHandled = true;\n            this.tapping = true;\n        }\n    }.bind(this);\n    this._handleTouchCancel = function () {\n        this.tapping = false;\n    }.bind(this);\n    this._handleTouchEnd = function () {\n        if (this.tapping && !(media.isXs() && params.hideOnXS)) {\n            this.tooltip.show();\n            this.tapping = false;\n        }\n    }.bind(this);\n    this._handleMouseEnter = function () {\n        if (!this.hoverHandled && !(media.isXs() && params.hideOnXS)) {\n            if (this.params.allowContentHover) {\n                clearTimeout(this._hideTimeout);\n            }\n            this.hoverHandled = true;\n            this.tooltip.show();\n        }\n    }.bind(this);\n    this._handleMouseLeave = function () {\n        if (this.params.allowContentHover) {\n            const tooltipContentElement = element.querySelector(\n                this.params.contentSelector || selectors.tooltipContent\n            );\n            if (tooltipContentElement && this._lastTooltipContentElement !== tooltipContentElement) {\n                this._lastTooltipContentElement = tooltipContentElement;\n                tooltipContentElement.addEventListener('mouseenter', this._handleMouseEnter);\n                tooltipContentElement.addEventListener('mouseleave', this._handleMouseLeave);\n            }\n            this._hideTimeout = setTimeout(() => {\n                tooltipContentElement.removeEventListener('mouseenter', this._handleMouseEnter);\n                tooltipContentElement.removeEventListener('mouseleave', this._handleMouseLeave);\n                this.tooltip.hide();\n            }, this.params.hideTimeout || 2000);\n        } else {\n            this.tooltip.hide();\n        }\n        this.hoverHandled = false;\n    }.bind(this);\n    this._handleMouseUp = function () {\n        this.hoverHandled = false;\n    }.bind(this);\n    this.init(element, params);\n}\nexport default Components.build({\n    defaults: {\n        host: document.body,\n    },\n    create(element, params) {\n        return new Hover(element, params);\n    },\n});\n","import Components from 'HHC/Components';\n\nimport Hover from 'HH/Tooltip/Hover';\nimport template from 'HH/Tooltip/MultiLineTemplate.mustache';\n\nfunction hrBrand(element, params) {\n    Components.make(Hover, element, {\n        host: 'body',\n        placement: 'top',\n        html: template.render({ elements: params.text }),\n        layer: 'overlay',\n    });\n}\nexport default Components.build({ create: hrBrand });\n","import Analytics from '@hh.ru/analytics-js';\nimport { AnalyticsParams } from '@hh.ru/analytics-js/lib/hhAnalytics';\n\nimport Components from 'HHC/Components';\n\ninterface LocalWindow extends Window {\n    sendHHEvent?: (params: AnalyticsParams) => void;\n    analyticsQueue?: AnalyticsParams[];\n}\n\nclass UseHHAnalytics {\n    commonParams: AnalyticsParams;\n\n    constructor(commonParams: AnalyticsParams) {\n        this.commonParams = commonParams;\n\n        const localWindow = window as LocalWindow;\n        localWindow.sendHHEvent = this.sendHHEvent;\n        localWindow?.analyticsQueue?.forEach(this.sendHHEvent);\n    }\n\n    sendHHEvent = (params: AnalyticsParams) => {\n        params = { ...this.commonParams, ...params };\n        if (!params.event) {\n            return;\n        }\n\n        Analytics.sendHHEvent(params.event, params);\n    };\n}\n\nexport default Components.build({\n    defaults: {} as AnalyticsParams,\n    create(_, commonParams) {\n        return new UseHHAnalytics(commonParams);\n    },\n});\n","import $ from 'jquery';\n\nimport urlParser from 'bloko/common/urlParser';\n\nimport ActiveOverlay from 'HHC/ActiveOverlay';\nimport Components from 'HHC/Components';\nimport { CreateSupportChatInstance } from 'HHC/SupportChat';\nimport PostMessage from 'Modules/PostMessage';\nimport { subscribeToNotLuxDataUpdate } from 'Modules/notLuxData';\nimport waitIframeContent from 'Utils/WaitIframeContent';\n\nimport SendHHAnalytics from 'HH/SendHHAnalytics';\n\nconst NEW_EMPLOYER_STATE = 'new';\n\n/**\n * Если новый работадатель то вернет new_employer, в противном случае из globalVars.userType\n */\nfunction getUserType() {\n    const { employerState, userType } = window.globalVars;\n    const isUserNew = employerState.toLowerCase() === NEW_EMPLOYER_STATE;\n\n    return userType === 'employer' && isUserNew ? 'new_employer' : userType;\n}\n\nfunction vishnu(element, params) {\n    let selectedCallType = null;\n\n    let isUserNew = false;\n    if (window.globalVars.features.new_employer_vishnu_checklist_enabled) {\n        isUserNew = window.globalVars.employerState.toLowerCase() === NEW_EMPLOYER_STATE;\n    }\n\n    let approvedFieldsPooled;\n    const pathName = urlParser(window.location).pathname;\n\n    let newVishnuVersionEnabled;\n    try {\n        // если это новый работадатель, проверяем поле new_employer\n        const valueToCheck = getUserType();\n        newVishnuVersionEnabled = JSON.parse(window.globalVars.features.users_with_vishnu_v2).includes(valueToCheck);\n    } catch (error) {\n        newVishnuVersionEnabled = false;\n    }\n\n    let src = window.globalVars.features.vishnu_src;\n    if (newVishnuVersionEnabled) {\n        src = window.globalVars.features.vishnu_v2_src;\n    }\n\n    if (params.vishnuExp && window.globalVars.features.vishnu_exp_user_type === getUserType()) {\n        src = window.globalVars.features.vishnu_exp_src;\n    }\n\n    if (window.globalVars.features.test_vishnu_iframe_src_enabled) {\n        src = window.globalVars.features.test_vishnu_iframe_src;\n    }\n\n    const iframeOrigin = `${window.location.protocol}//${urlParser(src).host}`;\n\n    const $vishnuIframe = $('<iframe/>').attr({\n        class: `${params.iframeClass} g-hidden`,\n        src,\n        id: 'ivishnu',\n        'data-qa': 'vishnu-iframe',\n        // Атрибут onmousewheel проставлен по просьбе подрядчиков, фиксит какой-то баг в сафари\n        onmousewheel: '',\n    });\n    const vishnuLoadedPromise = waitIframeContent($vishnuIframe.get(0));\n\n    let chatInstance = null;\n    const { supportChat } = window.globalVars;\n\n    PostMessage.on({\n        origin: iframeOrigin,\n        handlers: {\n            'vishnu.awaitingInit': function () {\n                vishnuLoadedPromise\n                    .then(({ contentWindow }) => {\n                        const data = {\n                            userId: window.globalVars.cryptedUserId,\n                            userType: window.globalVars.userType,\n                            isUserNew,\n                            host: window.location.host,\n                            link: window.location.href,\n                        };\n                        if (params.employerId !== false) {\n                            data.employerId = params.employerId;\n                        }\n                        if (params.employerManagerId !== false) {\n                            data.employerManagerId = params.employerManagerId;\n                        }\n                        if (params.MCPName) {\n                            data.MCPName = params.MCPName;\n                        }\n                        PostMessage.trigger({\n                            target: contentWindow,\n                            origin: iframeOrigin,\n                            message: {\n                                name: 'vishnu.init',\n                                data,\n                            },\n                        });\n                    })\n                    .catch(console.error);\n            },\n            'vishnu.ready': function (data) {\n                vishnuLoadedPromise\n                    .then(({ contentWindow }) => {\n                        document.addEventListener('click', (e) => {\n                            if (e.target.classList.contains('HH-Vishnu-Activator')) {\n                                activate(contentWindow);\n                            }\n                        });\n                        document.addEventListener('HH-Vishnu-Activate', () => {\n                            activate(contentWindow);\n                        });\n                        if (data.isOpen) {\n                            $vishnuIframe.removeClass('g-hidden');\n                        }\n                        vishnuAutoappear({ contentWindow });\n                    })\n                    .catch(console.error);\n            },\n            'vishnu.close': function (data) {\n                SendHHAnalytics({\n                    data: {\n                        goal: 'vishnu_analytics',\n                        action: 'vishnu_closed',\n                        closedByUser: data.closedByUser,\n                    },\n                });\n\n                if (isUserNew) {\n                    window.dispatchEvent(new CustomEvent('HH-Supernova-Vishnu-Info-Tip'));\n                }\n\n                $vishnuIframe.addClass('g-hidden');\n                ActiveOverlay.overlayClosed();\n            },\n            'vishnu.onShow': function () {\n                SendHHAnalytics({\n                    data: {\n                        goal: 'vishnu_analytics',\n                        action: 'vishnu_showed',\n                    },\n                });\n                if (isUserNew && !approvedFieldsPooled) {\n                    fetchApproveProgress()\n                        .then((response) => {\n                            approvedFieldsPooled = true;\n                            setEntry(response);\n                        })\n                        .catch(console.error);\n                }\n                if (supportChat && !chatInstance) {\n                    chatInstance = CreateSupportChatInstance('_vishnu', {\n                        onOnlineOperatorsAppear: () => {},\n                        onOnlineOperatorsLeave: () => {},\n                    });\n                }\n            },\n        },\n    });\n    const vishnuEntryObjectListener = (event) => {\n        if (event.detail && event.detail.vishnuEntryObject) {\n            setEntry(event.detail.vishnuEntryObject);\n        }\n    };\n    subscribeToNotLuxDataUpdate(vishnuEntryObjectListener);\n    document.addEventListener('HH-OrderCall-CallTypeSelect', (event) => {\n        selectedCallType = event.detail;\n    });\n    $(document.body).append($vishnuIframe);\n    function fetchApproveProgress() {\n        return $.ajax({\n            url: '/shards/employer/approved_field_state',\n            dataType: 'json',\n            data: { employerId: params.employerId },\n        });\n    }\n    /**\n     * Оповещение Хэдди о прогрессе прохождения анкетирования работодателем\n     *\n     * @param {Object} entryObject\n     * @param {Boolean} entryObject.url Пользователь ввел URL сайта\n     * @param {Boolean} entryObject.logo Пользователь загрузил логотип\n     * @param {Boolean} entryObject.industry Пользователь указал отрасль работы компании\n     * @param {Boolean} entryObject.description Пользователь ввел описание компании\n     * @param {Boolean} entryObject.inn Пользователь загрузил ИНН\n     */\n    function setEntry(entryObject) {\n        vishnuLoadedPromise\n            .then(({ contentWindow }) => {\n                if (isUserNew) {\n                    PostMessage.trigger({\n                        target: contentWindow,\n                        origin: iframeOrigin,\n                        message: {\n                            name: 'vishnu.setEntry',\n                            data: { entry: entryObject },\n                        },\n                    });\n                }\n            })\n            .catch(console.error);\n    }\n    function vishnuAutoappear({ contentWindow }) {\n        if (!params.vishnuAutoshow) {\n            return;\n        }\n\n        try {\n            const vishnuInfo = JSON.parse(window.globalVars.features.vishnu_autoshow);\n\n            setTimeout(() => {\n                if (!vishnuInfo[params.vishnuAutoshow.message]) {\n                    return;\n                }\n\n                const messageToSend = {\n                    ordercall: {\n                        name: 'vishnu.user.action.callTypeSelected',\n                        callType: selectedCallType,\n                    },\n                    personalManager: {\n                        name: 'vishnu.user.action.personalManager',\n                    },\n                };\n                if (contentWindow) {\n                    SendHHAnalytics({\n                        data: {\n                            goal: 'ordercall_and_PM_page_analytics',\n                            action: 'vishnu_autoshow',\n                        },\n                    });\n                    $vishnuIframe.removeClass('g-hidden');\n                    PostMessage.trigger({\n                        target: contentWindow,\n                        origin: iframeOrigin,\n                        message: messageToSend[params.vishnuAutoshow.message],\n                    });\n                }\n            }, vishnuInfo[params.vishnuAutoshow.message]);\n        } catch {\n            console.error('Failed to parse json in \"vishnu_autoshow\"!');\n        }\n    }\n    function activate(contentWindow) {\n        if (contentWindow) {\n            SendHHAnalytics({\n                data: {\n                    goal: 'vishnu_analytics',\n                    action: 'virtual_consultant_button_clicked',\n                },\n            });\n            $vishnuIframe.removeClass('g-hidden');\n            PostMessage.trigger({\n                target: contentWindow,\n                origin: iframeOrigin,\n                message: {\n                    name: 'vishnu.open',\n                    pathname: pathName,\n                },\n            });\n            ActiveOverlay.overlayOpened();\n        }\n    }\n}\n\nexport default Components.build({\n    defaults: { iframeClass: 'vishnu-frame' },\n    create: vishnu,\n});\n","import Components from 'HHC/Components';\n\nconst HTMLConfirm = (element, { actions, cssClasses }) => {\n    const show = () => {\n        element.classList.remove(cssClasses.hidden);\n    };\n\n    const hide = () => {\n        element.classList.add(cssClasses.hidden);\n    };\n\n    const waitForUsersAction = () =>\n        new Promise((resolve) => {\n            element.addEventListener('click', function handler(e) {\n                const closestAction = actions.find(({ target }) => target.contains(e.target));\n                if (!closestAction) {\n                    return;\n                }\n                e.preventDefault();\n                element.removeEventListener('click', handler);\n                hide();\n                resolve(closestAction.result);\n            });\n            show();\n        });\n\n    return {\n        hide,\n        waitForUsersAction,\n    };\n};\n\nexport default Components.build({\n    defaults: {\n        cssClasses: {\n            hidden: 'g-hidden',\n        },\n    },\n    create: HTMLConfirm,\n});\n","import Cookies from 'bloko/common/Cookies';\nimport Storage from 'bloko/common/storage/LocalStorageWrapper';\n\nimport firebase from 'HH/Firebase';\nimport axios from 'HHC/Axios';\nimport Components from 'HHC/Components';\n\nimport HTMLConfirm from 'HH/WebPush/HTMLConfirm';\n\nconst SHOW_CONFIRM_COOKIE_NAME = 'web_push_confirm_reason';\n\nconst DAY = 86400000;\nconst DELAY_PERIODS = [2, 4, 7];\n\nconst getNextAttemptDate = (attempt) => Date.now() + DAY * DELAY_PERIODS[Math.min(attempt, DELAY_PERIODS.length - 1)];\nconst sendTokenToBackend = (token) => axios.postFormData('/push_subscribe', { token }).catch(console.error);\n\n/**\n * Поля params и onOpenActions приходят из fcm в виде json-строки и их надо парсить.\n *\n * @param data\n * @param config\n *\n * @returns {Object} notificationData\n */\nconst processNotificationData = (data, { apiHost }) => {\n    data.params = JSON.parse(data.params);\n    /*\n     * onOpenActions — список дополнительных действий, который надо совершить при открытии пуша.\n     * Пока что нас интересует только поход в pingback-ручку api (type === 'apiGetRequest').\n     * В url apiGetRequest приходит только путь, так что заодно к нему надо добавить правильный хост из конфига.\n     *\n     * https://github.com/hhru/hhapi/blob/master/docs/private/ru/push_notifications.md#%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D1%8F-%D0%BF%D1%80%D0%B8-%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B8-%D0%BF%D1%83%D1%88%D0%B0\n     * */\n    data.onOpenActions = JSON.parse(data.onOpenActions)\n        .filter(({ type }) => type === 'apiGetRequest')\n        .map((action) => ({\n            ...action,\n            url: `${apiHost}${action.url}`,\n        }));\n    return data;\n};\n\nconst safeOpenWindow = (url) => {\n    const popup = window.open(url);\n    if (popup) {\n        try {\n            popup.opener = null;\n            // eslint-disable-next-line no-empty\n        } catch (e) {}\n    }\n};\n\nconst Subscribe = async (element) => {\n    if (!firebase.messaging.isSupported()) {\n        return;\n    }\n\n    const messaging = firebase.messaging();\n\n    messaging.onMessage(({ data }) => {\n        /**\n         * Обрабатываем получение пуша только в активной вкладке. Подробнее в HHS-47433\n         * А обработкой фоновых пушей занимается отдельный воркер firebase-messaging-sw.js\n         */\n        if (document.visibilityState !== 'visible') {\n            return;\n        }\n\n        /*\n         * На данный момент обрабатываем только нотификации, открывающие ссылки (т.е. с типом `openLink`).\n         *\n         * https://github.com/hhru/hhapi/blob/master/docs/private/ru/push_notifications.md#%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D1%81-%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D1%8C-%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5-%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B5\n         **/\n        const processedData = processNotificationData(data, { apiHost: window.globalVars.apiHost });\n        if (processedData.params.action !== 'openLink') {\n            return;\n        }\n\n        const notification = new Notification(processedData.title || '', {\n            body: processedData.alert,\n            data: processedData,\n        });\n\n        notification.onclick = (e) => {\n            const { params, onOpenActions } = processedData;\n            e.preventDefault();\n            notification.close();\n\n            safeOpenWindow(params.linkUrl);\n\n            // Дёргаем pingback-ручки api\n            onOpenActions.forEach(({ url }) => fetch(url, { mode: 'no-cors' }));\n        };\n    });\n\n    const getStorageData = () => {\n        try {\n            return JSON.parse(Storage.getItem('HH-WebPushSubscribe')) || {};\n        } catch (e) {\n            return {};\n        }\n    };\n    const storageData = getStorageData();\n    const isDelayExpired = () => {\n        try {\n            const { nextConfirmAttemptTime } = storageData;\n            return !nextConfirmAttemptTime || nextConfirmAttemptTime <= Date.now();\n        } catch (e) {\n            return true;\n        }\n    };\n    const incrementAttempts = () => {\n        const totalAttempts = storageData.totalAttempts || 0;\n        storageData.totalAttempts = totalAttempts + 1;\n        storageData.nextConfirmAttemptTime = getNextAttemptDate(totalAttempts);\n        Storage.setItem('HH-WebPushSubscribe', JSON.stringify(storageData));\n    };\n\n    if (Notification.permission === 'granted') {\n        // granted - Пользователь подтвердил получение пушей\n        try {\n            const token = await messaging.getToken();\n            if (token) {\n                sendTokenToBackend(token);\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n    if (Notification.permission === 'denied') {\n        // denied - Пользователь отказался от получения пушей\n        Cookies.remove(SHOW_CONFIRM_COOKIE_NAME);\n    }\n    if (Notification.permission === 'default') {\n        // default - Права на уведомления еще не выставлены, необходим запрос\n\n        if (!Cookies.get(SHOW_CONFIRM_COOKIE_NAME)) {\n            return;\n        }\n\n        if (!isDelayExpired()) {\n            // Удаляем куку, так как иначе попап может показаться пользователю,\n            // когда «тихий» период после отказа от оповещений истёк, но никаких целевых действий,\n            // устанавливающих куку, пользователь в недавнее время не совершал\n            Cookies.remove(SHOW_CONFIRM_COOKIE_NAME);\n            return;\n        }\n\n        const htmlConfirm = Components.make(HTMLConfirm, element, {\n            actions: [\n                {\n                    target: element.querySelector('.HH-WebPush-Hide'),\n                    result: 'cancel',\n                },\n                {\n                    target: element.querySelector('.HH-WebPush-Accept'),\n                    result: 'confirm',\n                },\n            ],\n        });\n\n        try {\n            const htmlAction = await htmlConfirm.waitForUsersAction();\n            if (htmlAction === 'confirm') {\n                const permission = await Notification.requestPermission();\n                if (permission === 'granted') {\n                    const token = await messaging.getToken();\n                    sendTokenToBackend(token);\n                }\n            } else {\n                incrementAttempts();\n            }\n            Cookies.remove(SHOW_CONFIRM_COOKIE_NAME);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n};\n\nexport default Components.build({ create: Subscribe });\n","import BlokoComponents from 'bloko/common/core/Components';\n\nimport Debug from 'HHC/Debug';\n\n/**\n * Модуль реалзующий компоненты\n *\n * Больше информации по компонентам тут\n * {@link https://github.com/hhru/xhh/blob/master/docs/js/Components.md}\n *\n * @type {Object}\n * @exports HHC/Components\n */\nconst Components = Object.create(BlokoComponents);\nlet importFunction;\n/**\n * Вешает на элемент компонент с параметрами.\n *\n * @param {Object}  component Объект-конструктор компонента\n * @param {Element} element   Элемент на котором проинициализировать компонент\n * @param {Object}  [params]  Параметры с которыми проинициализировать компонент\n * @param {String}  [componentName] Название компонента - внутренний параметр , используется для логирования\n *\n * @returns {сomponentInstance} Интерфейс компонента\n *\n * @member\n * @method\n */\nComponents.make = function (component, element, params, componentName) {\n    Debug.log('components:make', {\n        name: componentName,\n        element,\n        params,\n    });\n    // Из-за бага в rjs при котором возможно неожиданное получение undefined или объекта из модуля\n    if (typeof component !== 'function') {\n        Debug.log('error', 'PORTFOLIO-2272 findout', {\n            componentName,\n            params,\n            typeof: typeof component,\n        });\n        return undefined;\n    }\n    // eslint-disable-next-line prefer-rest-params\n    return BlokoComponents.make.apply(this, [...arguments]);\n};\nComponents.setInitFunction = (func) => {\n    importFunction = func;\n};\nComponents.init = function (element, importFunc) {\n    return BlokoComponents.init.apply(this, [element, importFunc || importFunction]);\n};\n\nconst deferredBuilds = [];\n\nlet shouldBuildImmediately = false;\n\nComponents.buildDeferredComponents = () => {\n    shouldBuildImmediately = true;\n    deferredBuilds.forEach((build) => build());\n};\n\nComponents.build = (component) => (element, params, fromMake) => {\n    const reactRootNode = document.getElementById('HH-React-Root');\n    if (!reactRootNode || reactRootNode.dataset.ssrStatus !== 'fail' || shouldBuildImmediately) {\n        return BlokoComponents.build(component)(element, params, fromMake);\n    }\n    deferredBuilds.push(() => {\n        return BlokoComponents.build(component)(element, params, fromMake);\n    });\n    return undefined;\n};\nexport default Components;\n","import Components from 'HHC/Components';\n\nconst TILDE_KEY = 192;\n\n/**\n * Debug-утилита `grid` отображает колоночную сетку на странице по фиче grid\n * либо по шорткату [ctrl] + [~] ([ctrl] + [shift] + [~] при открытом инспекторе)\n *\n * @exports HHC/Debug/Grid\n */\nconst Grid = () => {\n    const grid = document.querySelector('.HHC-Debug-Grid');\n    const show = () => grid.classList.remove('g-hidden');\n    const hide = () => grid.classList.add('g-hidden');\n\n    if (grid) {\n        document.addEventListener('keyup', (event) => {\n            if (event.ctrlKey && event.keyCode === TILDE_KEY) {\n                if (grid.classList.contains('g-hidden')) {\n                    show();\n                } else {\n                    hide();\n                }\n            }\n        });\n    }\n\n    return { show, hide };\n};\n\nexport default Components.build({ create: Grid });\n","import { Breakpoint, getBreakpoint } from 'bloko/common/media';\nimport urlParser from 'bloko/common/urlParser';\n\nimport PostMessage from 'Modules/PostMessage';\nimport waitIframeContent from 'Utils/WaitIframeContent';\n\nimport ActiveOverlay from 'HHC/ActiveOverlay';\n\nlet activeInstance = null;\nconst supportChatIframes = {};\n\n// eslint-disable-next-line\nexport const CreateSupportChatInstance = (\n    postfix,\n    { onOnlineOperatorsAppear = () => {}, onOnlineOperatorsLeave = () => {} }\n) => {\n    // переменная supportChat в данном месте связана с чатом поддержки вебим, который мы больше не используем, но когда\n    // она присутствует, то в DOM помещается iframe webim, который пытается загрузить скрипты, которые падают.\n    // Полностью код чата вебим будет удален в PORTFOLIO-24092\n    const { supportChat } = false;\n\n    // Если нам не пришел конфиг supportChat — не рисуем его.\n    if (!supportChat) {\n        return null;\n    }\n\n    const iframeOrigin = `${supportChat.url}`;\n\n    const isSmallScreen = () => [Breakpoint.XS, Breakpoint.S].includes(getBreakpoint());\n    const createSrc = (postfix) => {\n        const queryString = urlParser.stringify({\n            location: `${supportChat.location}${postfix}`,\n            'provided-visitor': supportChat.webim_visitor ? JSON.stringify(supportChat.webim_visitor) : null,\n            'start-page': JSON.stringify({ url: document.location && document.location.href }),\n            'small-screen': isSmallScreen() ? '1' : '0',\n        });\n\n        return `${iframeOrigin}?${queryString}`;\n    };\n\n    const instance = { postfix };\n\n    if (supportChatIframes[postfix] === undefined) {\n        supportChatIframes[postfix] = document.createElement('iframe');\n    }\n    const supportChatIframe = supportChatIframes[postfix];\n    const supportChatLoadedPromise = waitIframeContent(supportChatIframe);\n\n    supportChatIframe.classList.add('support-chat-iframe', 'g-hidden');\n    supportChatIframe.setAttribute('src', createSrc(postfix));\n    document.body.appendChild(supportChatIframe);\n\n    const send = (msg) => {\n        supportChatLoadedPromise\n            .then(({ contentWindow }) => {\n                PostMessage.trigger({\n                    target: contentWindow,\n                    origin: iframeOrigin,\n                    message: msg,\n                });\n            })\n            .catch(console.error);\n    };\n\n    const onFocus = () => send({ name: 'window.focus' });\n    const onBlur = () => send({ name: 'window.blur' });\n\n    const showSupportChat = () => {\n        supportChatIframe.classList.remove('g-hidden');\n        window.addEventListener('focus', onFocus);\n        window.addEventListener('blur', onBlur);\n        ActiveOverlay.overlayOpened();\n    };\n    const hideSupportChat = () => {\n        activeInstance = null;\n        supportChatIframe.classList.add('g-hidden');\n        window.removeEventListener('focus', onFocus);\n        window.removeEventListener('blur', onBlur);\n        ActiveOverlay.overlayClosed();\n    };\n\n    const handlers = {\n        onOnlineOperatorsAppear,\n        onOnlineOperatorsLeave,\n        onChatShownStateChanged: ({ shown }) => {\n            // Эти сообщения дублируются во все открытые инстансы чата\n            // Закрываете один чат - все чаты получат сообщение вида\n            // {\"handlerName\":\"onChatShownStateChanged\",\"event\":{\"shown\":false}}\n            if (!activeInstance) {\n                activeInstance = instance;\n            }\n            if (activeInstance === instance) {\n                if (shown) {\n                    showSupportChat();\n                } else {\n                    hideSupportChat();\n                }\n            }\n        },\n    };\n    handlers.onInit = ({ online }) => online && handlers.onOnlineOperatorsAppear();\n\n    window.addEventListener('message', (event) => {\n        if (event.source === supportChatIframe.contentWindow) {\n            let data;\n            try {\n                data = JSON.parse(event.data);\n            } catch (error) {\n                return;\n            }\n            if (data && data.name === 'handler') {\n                const params = data.data;\n                if (params && handlers[params.handlerName] instanceof Function) {\n                    supportChatLoadedPromise\n                        .then(() => {\n                            handlers[params.handlerName](params.event);\n                        })\n                        .catch(console.error);\n                }\n            }\n        }\n    });\n\n    instance.deactivate = () => {\n        send({ name: 'webim.api.chat.close' });\n        hideSupportChat();\n    };\n    instance.activate = (prehistory) => {\n        if (activeInstance) {\n            activeInstance.deactivate();\n        }\n        send({ name: 'webim.api.chat.start', data: { prehistory } });\n        activeInstance = instance;\n    };\n\n    instance.unsubscribe = () => {\n        handlers.onOnlineOperatorsAppear = () => {};\n        handlers.onOnlineOperatorsLeave = () => {};\n    };\n\n    return instance;\n};\n","import Debug from 'HHC/Debug';\n\nimport { getUniqueId } from 'Utils/Utils';\n\nconst callbacks = new Callbacks();\n/**\n * Утилита по реализации событийного взаимодействия.\n *\n * @type {Object}\n * @exports Utils/Callbacks\n */\nfunction Callbacks() {\n    this.listeners = {};\n    this.eventHistory = {};\n    /**\n     * Returns object id.\n     *\n     * @param {Object|String} object DOM node or string \"*\"\n     *\n     * @returns {String} DOM node id or \"*\"\n     * @private\n     */\n    this.getId = function (object) {\n        return object === '*' ? '*' : getUniqueId(object);\n    };\n    /**\n     * Регистрирует слушателя события.\n     *\n     * @param {String}   type           Имя события\n     * @param {Function} listener       Обработчик\n     * @param {Object}   object         Объект для слушания\n     * @param {Boolean}  [execute=true] Слушатель включен?\n     *\n     * @returns {Listener} Интерфейс слушателя\n     *\n     * @member\n     * @method\n     */\n    this.add = function (type, listener, object, execute) {\n        const id = this.getId(object || this);\n        const key = id + type;\n        if (!this.listeners[key]) {\n            this.listeners[key] = [];\n        }\n        const currentListener = new callbacks.Listener(listener, execute, key);\n        this.listeners[key].push(currentListener);\n        this.execHistory(id, type);\n        return currentListener;\n    };\n    /**\n     * Вызывает событие.\n     *\n     * @param {String} type       Имя события\n     * @param {Object} object     Объект на котором вызвано событие\n     * @param {Object} event      Объект с которым вызвано событие\n     * @param {Number} [query=0]  Вызвать событие сохраняя историю в n сообщений\n     *\n     * @member\n     * @method\n     */\n    this.dispatch = function (type, object, event, query) {\n        Debug.log('info', 'Type: ', type, ', object: ', object, ', event: ', event, ['Utils/Callbacks', type]);\n        const id = this.getId(object || this);\n        const normalizedQuery = query || 0;\n        this.execListeners(id + type, event);\n        if (id !== '*') {\n            this.execListeners(`*${type}`, event);\n        }\n        // add event to history\n        const key = id + type;\n        if (!this.eventHistory[key]) {\n            this.eventHistory[key] = [];\n        }\n        this.eventHistory[key].push(event);\n        if (this.eventHistory[key].length > normalizedQuery) {\n            this.eventHistory[key].shift();\n        }\n    };\n    this.execHistory = function (id, type) {\n        const key = id + type;\n        if (this.eventHistory[key]) {\n            this.eventHistory[key].forEach(this.execListeners.bind(this, key));\n        }\n        if (id === '*') {\n            for (const i in this.eventHistory) {\n                // try to find events with type in keys on the end of key\n                if (type === i.substr(i.length - type.length)) {\n                    this.eventHistory[i].forEach(this.execListeners.bind(this, key));\n                }\n            }\n        }\n    };\n    /**\n     * Runs list of listeners by key.\n     * @param {String} key Key of listener.\n     * @param {Object} event Event object, any data for listeners.\n     * @private\n     */\n    this.execListeners = function (key, event) {\n        if (!this.listeners[key]) {\n            return;\n        }\n        this.listeners[key].forEach(function (listener) {\n            if (listener.execute) {\n                this.execListener(listener.listener, event);\n            }\n        }, this);\n    };\n    /**\n     * Runs listener.\n     * @param {Function} listener Listener.\n     * @param {Object} event Event object, data for listener.\n     * @private\n     */\n    this.execListener = function (listener, event) {\n        listener(event);\n    };\n    /**\n     * Убирает слушателя\n     *\n     * @param {Listener} listener Объект слушателя.\n     *\n     * @member\n     * @method\n     */\n    this.remove = function (listener) {\n        const listenersByKey = this.listeners[listener.key];\n        const i = listenersByKey.indexOf(listener);\n        if (i !== -1) {\n            listenersByKey.splice(i, 1);\n        }\n    };\n}\n/**\n * Listener object. When you add function listener you will receive this object.\n * This object allows you to manipulate with function listener.\n */\ncallbacks.Listener = function (listener, execute, key) {\n    this.listener = listener;\n    this.key = key;\n    this.execute = execute || true;\n};\ncallbacks.Listener.prototype = {\n    /**\n     * Starts listening for event.\n     */\n    start() {\n        this.execute = true;\n    },\n    /**\n     * Stops listening for event.\n     */\n    stop() {\n        this.execute = false;\n    },\n    remove() {\n        callbacks.remove(this);\n    },\n};\nexport default callbacks;\n","import NumberFormatter from 'bloko/common/numberFormatter';\n\nconst ONE = 0;\nconst SOME = 1;\nconst MANY = 2;\nconst TEXT_CASES = [MANY, ONE, SOME, SOME, SOME, MANY];\n\n/**\n * Word case dictionary with singular, paucal and plural forms of the word\n * i.e. ['день', 'дня', 'дней']\n * @typedef {[string, string, string]} CaseDict\n * @property {String} 0 - singular form, one\n * @property {String} 1 - paucal form, some\n * @property {String} 2 - plural form, many\n */\n\n/**\n * Утилита по работе со строками\n * @type {Object}\n * @exports Utils/Strings\n */\nconst Strings = {\n    /**\n     * Позволяет форматировать строку подобно функции printf.\n     *\n     * <pre>\n     * %[padding][width]type\n     * padding   - An optional padding specifier that says what character will be\n     *             used for padding the results to the right string size. This may\n     *             be a space character or a \"0\" (zero character).\n     * width     - An optional number, a width specifier that says how many\n     *             characters (minimum) this conversion should result in.\n     * precision - An optional precision specifier that says how many decimal digits\n     *             should be displayed for floating-point numbers. This option has\n     *             no effect for other types than float.\n     * type      - A type specifier that says what type the argument data should be\n     *             treated as. Possible types:\n     *\n     * % - a literal percent character. No argument is required.\n     * d - the argument is treated as an integer, and presented as a decimal number.\n     * s - the argument is treated as and presented as a string.\n     * </pre>\n     *\n     * @param {String} string Формат\n     * @param {any|[]}  data   Массив значений для форматирования.\n     *\n     * @returns {String}\n     */\n    printf(string, data) {\n        const _convertData = function (format, data) {\n            data = `${data}`;\n            if (format === '%s' || format === '%d') {\n                return data;\n            }\n            if (/%\\d{2,2}d/.test(format)) {\n                const symbol = format.substr(1, 1);\n                const length = format.substr(2, 1);\n                while (data.length < length) {\n                    data = symbol + data;\n                }\n            }\n            return data;\n        };\n        if (typeof data !== 'object') {\n            data = [data];\n        }\n        const formats = string.match(/%(?:s|(?:\\d{0,2}d))/g);\n        if (formats) {\n            for (let i = 0, l = formats.length; i < l; i++) {\n                data[i] = typeof data[i] === 'undefined' ? '' : data[i];\n                string = string.replace(new RegExp(formats[i], ''), _convertData(formats[i], data[i]));\n            }\n        }\n        return string.replace(/%%/g, '%');\n    },\n    /**\n     * Производит числительное склонение по словарю.\n     *\n     * @example\n     * pluralize(1, ['день', 'дня', 'дней']) -> 'день'\n     * pluralize(2, ['день', 'дня', 'дней']) -> 'дня'\n     * pluralize(5, ['день', 'дня', 'дней']) -> 'дней'\n     *\n     * @param {Number} num - number\n     * @param {String[]} words - case dictionary\n     *\n     * @returns {String}\n     */\n    pluralize: (num, words) => {\n        const remainder = num % 100;\n        if (remainder > 10 && remainder < 15) {\n            return words[MANY];\n        }\n        return words[TEXT_CASES[Math.min(num % 10, 5)]];\n    },\n    /**\n     * Производит числительное склонение по словарю.\n     *\n     * @example\n     * numConversion(1, ['день', 'дня', 'дней']) -> '1 день'\n     * numConversion(2, ['день', 'дня', 'дней']) -> '2 дня'\n     * numConversion(5, ['день', 'дня', 'дней']) -> '5 дней'\n     *\n     * @param {Number} num - number\n     * @param {String[]} words - case dictionary\n     * @param {Boolean} [dontPrintNumber=false] - don't print the number\n     *\n     * @returns {String}\n     */\n    numConversion(num, words, dontPrintNumber) {\n        return dontPrintNumber ? this.pluralize(num, words) : `${num} ${this.pluralize(num, words)}`;\n    },\n    /**\n     * Capitalize\n     * @param  {String} str\n     * @returns {String}\n     */\n    capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    /**\n     * Округляет переданное число до двух знаков после запятой.\n     * Оставляет десятичные только если они присутствуют после округления.\n     * Если передан параметр forceShowCents, то два знака после запятой будут показаны в любом случае\n     * @example\n     * 2 -> '2'\n     * 2.00 -> '2'\n     * 2.9033 -> '2,90'\n     * 2.1488 -> '2,15'\n     * 2340.543 -> '2 340,54'\n     * @param {Number | String} cost\n     * @param {String} [groupSeparator] разделитель разрядов\n     * @returns {String}\n     */\n    formatCost(cost, groupSeparator, forceShowCents) {\n        const roundedCost = cost % 1 || forceShowCents ? Number(cost).toFixed(2) : `${cost}`;\n        if (groupSeparator !== undefined && groupSeparator !== null) {\n            return NumberFormatter.format(roundedCost, { groupSeparator });\n        }\n        return NumberFormatter.format(roundedCost, {});\n    },\n    /**\n     * Форматирует целочисленную цену в копейках (1 рубль == 100).\n     * Используется в биллинге для исключения ошибок округления.\n     * Если передан параметр forceShowCents, то два знака после запятой будут показаны в любом случае\n     * @example\n     * 200 -> '2'\n     * 200.00 -> '2'\n     * 290.33 -> '2,90'\n     * 214.88 -> '2,15'\n     * 234054.3 -> '2 340,54'\n     * @param {Number} cost Цена в копейках\n     * @param {String} [groupSeparator] разделитель разрядов\n     * @returns {String}\n     */\n    formatCostInCents(cost, groupSeparator, forceShowCents) {\n        return Strings.formatCost(cost / 100, groupSeparator, forceShowCents);\n    },\n    /**\n     * Парсит только цифры из строки, если таковых нет - возвращает пустую строку\n     * @param  {String} str\n     * @returns {String}\n     */\n    parseNumbers(str) {\n        return str ? str.replace(/\\D/g, '') : '';\n    },\n};\nexport default Strings;\n","/**\n * Возвращает promise который резолвится как только\n * станет доступным contentWindow iframe'а.\n *\n * Promise резолвится в contentWindow.\n *\n * @param {Element} iframe iframe-элемент\n * @param {Number} checkInterval\n *\n * @returns {Promise}\n *\n * @type {Function}\n * @exports Utils/waitIframeContent\n */\nconst waitIframeContent = (iframe, checkInterval = 100) =>\n    new Promise((resolve) => {\n        const checkIframeContent = () => {\n            if (!iframe.contentWindow) {\n                setTimeout(checkIframeContent, checkInterval);\n            } else {\n                resolve({ contentWindow: iframe.contentWindow });\n            }\n        };\n\n        iframe.addEventListener('load', checkIframeContent);\n    });\n\nexport default waitIframeContent;\n"],"names":["H","module","exports","Template","code","c","p","i","t","this","b","f","fl","partials","subs","v","s","rs","pop","d","STATE","Components","create","element","params","content","querySelector","loadingSetter","LoadingSetter","state","load","async","response","dispatchEvent","blokoEvent","start","axios","loadFrom","queryParams","error","data","classList","remove","innerHTML","stop","loadOnInit","loadOnClick","addEventListener","ready","defaults","name","eventData","Analytics","FormattedNumericInput","NameCapitalize","closeTriggerSelector","onClose","originalOnClose","notificationName","notificationManager","notificationContent","notification","notificationCloseButtonClick","close","notificationElementShown","PopupSwitcher","$element","$","bindings","switcher","popup","classname","init","popupSwitcher","Modal","get","on","analyticsEvent","show","StateChanger","Toggle","firebaseApp","messagingSenderId","window","globalVars","firebaseMessagingSenderId","projectId","firebaseProjectId","apiKey","firebaseApiKey","appId","firebaseAppId","SendFloodlightConversion","Form","formModule","messages","_default","BaseForm","baseFormTemplate","prototype","hasClass","$form","infoTemplate","detach","invalidFields","allFields","isCheckFirstPassed","Callbacks","doField","bind","document","removeField","prop","form","namespace","forEach","field","collection","reset","e","options","isValid","preventDefault","checkFormValidation","deferreds","visited","push","validateElements","done","length","focusFirstInvalidElement","Object","keys","key","beforeSubmit","trigger","uid","serverValidation","checkStatus","validateField","formObj","val","index","indexOf","isInInvalids","splice","sortByPosition","sort","a","aTop","offset","top","bTop","ChangableErrorElement","parts","string","additionalError","errorText","keepTooltip","event","fieldName","getMessage","noFocus","reValidate","initElement","validatePart","formElement","getPartError","call","hideTooltip","contains","needle","haystack","Array","isArray","includes","preInitElement","$remove","$removeLink","removeText","text","additionalElementsToWatch","validateHidden","setValidAfterChanges","$tooltipElements","tooltipInstance","conditions","prepareConditions","watch","elements","values","concat","emptyValue","isEmpty","every","getPartValue","resetRequiredConditions","getConditions","mincount","condition","required","isCheckboxOrRadio","type","getTooltipElement","visibleTooltipParts","filter","tooltipParts","getValue","entries","map","value","serializePart","x","join","checked","undefined","trim","checkInteger","parsed","parseInt","isNaN","minvalue","maxvalue","checkList","subtype","result","minsize","maxsize","checkDate","splittedvalue","split","splittedmin","splittedmax","year","month","day","date","Date","mindate","maxdate","dayInMonth","getDate","getTime","match","getPartConditions","part","is","not_in","is_in","checkIntegerResult","checkListResult","enumeration","minlength","maxlength","regexp","RegExp","test","checkDateResult","getCustomStatus","getErrors","errors","getStatus","currentErrors","status","beforeValidate","validate","reduce","afterValidate","setValidity","getValidationElements","validitySetterParts","initValiditySetters","toArray","domElement","validitySetter","processChanges","showError","findKey","object","hasOwnProperty","validateOnBlur","action","showPartError","html","Tip","placement","TipPlacement","TooltipContentTemplate","theme","changeOptions","Debug","variants","Strings","num","one","many","some","zero","conversion","message","toggleDeleteButton","hide","addClass","removeClass","afterScrollCallback","focus","attachWatchEvents","focusIfInvalid","scrollToElement","callback","animationEndCallback","handleMainActionEvent","target","mainActionEvent","mainActionEventHandler","blur","input","change","$document","PERIODICITY","fields","validationsResults","json","deferred","add","freeze","_freeze","unfreeze","_unfreeze","visible","restartCheck","check","dependantFields","validateDependantFields","timer","clearTimeout","setTimeout","clearFields","container","saveField","getFields","getValidationResults","clearCache","dependantFieldsNames","main","secondary","swapMinCount","first","second","mainResults","secondaryResults","mainConditions","secondaryConditions","validCount","Message","group","showMessage","nameSelector","selector","groupSelector","$name","find","$group","toggle","not","stopPropagation","hideMessage","$messages","replace","toggleClass","className","hidden","AlbumSlider","classItemActive","classItemLoading","classArrowDisabled","construct","$list","$items","$images","$current","$next","$prev","$loaders","onImageProcessed","next","prev","swipe","BlokoComponents","Swipe","preventingDefault","onSwipePrevent","onSwipeMove","onSwipeEnd","process","setCounter","checkSwipeAbility","distance","toggleTransition","animate","direction","off","css","transition","$item","closest","toggleLoader","slide","clear","isPrev","width","transform","eq","$image","src","getSource","attr","$target","$loader","loaderInstance","srcset","windowWidth","innerWidth","k","srcVW","srcItemVW","each","SetCuts","SaveSearchState","observers","isSubscribed","setState","prevState","newState","func","stateInstance","SaveSearch","stateManager","emailRequired","$messagesContainer","$error","$save","$email","$wrongEmail","$mainLink","$authButton","$okButton","$modalSaveFom","emailOnlyText","modalTrigger","modalContent","createLink","doSave","isMap","query","queryString","loading","modal","showModal","onSuccess","href","baseUrl","isEmailCorrect","search","wrongEmailShow","checkEmail","mail","lastEmail","searchData","autosearchName","email","url","cache","then","saveSuccess","catch","saveFailed","userType","Notification","SaveSearchSuccess","title","successTitle","link","successLink","linkText","successLinkText","successText","autoClose","responseJSON","SendAnalyticsEvent","constructor","onEvent","eventHandler","readyState","stopSpying","elementSpy","onShow","trackingBounds","Bound","sendInternalEvent","category","label","toStorage","VendorAnalytics","sendExternalEvent","POPUP","Share","open","screen","height","virtualUrl","services","fb","dataType","getParams","ids","getCounter","share","share_count","vk","act","beforeAjax","VK","count","counter","ok","ref","ODKL","updateCount","ShareCounter","$shares","pageUrl","location","protocol","domain","pathname","service","serviceData","send","console","cssClasses","activeOverlay","getScrollbarWidth","Metrics","adjustOverlayPadding","style","paddingRight","clientHeight","scrollHeight","toggleOverlay","overlayName","activeOverlayName","body","dataset","selectors","Hover","contentSelector","allowContentHover","host","tooltip","touchstart","_handleTouchStart","touchcancel","_handleTouchCancel","touchmove","touchend","_handleTouchEnd","mouseenter","_handleMouseEnter","mouseleave","_handleMouseLeave","mouseup","_handleMouseUp","hoverHandled","tapping","media","hideOnXS","_hideTimeout","tooltipContentElement","_lastTooltipContentElement","removeEventListener","hideTimeout","template","layer","UseHHAnalytics","commonParams","localWindow","sendHHEvent","analyticsQueue","_","getUserType","employerState","isUserNew","toLowerCase","iframeClass","approvedFieldsPooled","selectedCallType","features","new_employer_vishnu_checklist_enabled","pathName","urlParser","newVishnuVersionEnabled","valueToCheck","JSON","parse","users_with_vishnu_v2","vishnu_src","vishnu_v2_src","vishnuExp","vishnu_exp_user_type","vishnu_exp_src","test_vishnu_iframe_src_enabled","test_vishnu_iframe_src","iframeOrigin","$vishnuIframe","class","id","onmousewheel","vishnuLoadedPromise","waitIframeContent","chatInstance","supportChat","setEntry","entryObject","contentWindow","PostMessage","origin","entry","activate","SendHHAnalytics","goal","ActiveOverlay","handlers","userId","cryptedUserId","employerId","employerManagerId","MCPName","isOpen","vishnuAutoshow","vishnuInfo","vishnu_autoshow","messageToSend","ordercall","callType","personalManager","vishnuAutoappear","closedByUser","CustomEvent","CreateSupportChatInstance","onOnlineOperatorsAppear","onOnlineOperatorsLeave","subscribeToNotLuxDataUpdate","detail","vishnuEntryObject","append","actions","waitForUsersAction","Promise","resolve","handler","closestAction","SHOW_CONFIRM_COOKIE_NAME","DELAY_PERIODS","sendTokenToBackend","token","firebase","messaging","onMessage","visibilityState","processedData","apiHost","onOpenActions","processNotificationData","alert","onclick","opener","safeOpenWindow","linkUrl","fetch","mode","storageData","Storage","getStorageData","incrementAttempts","totalAttempts","attempt","nextConfirmAttemptTime","now","Math","min","stringify","permission","getToken","Cookies","isDelayExpired","htmlConfirm","HTMLConfirm","requestPermission","importFunction","make","component","componentName","arguments","typeof","setInitFunction","importFunc","deferredBuilds","shouldBuildImmediately","buildDeferredComponents","build","fromMake","reactRootNode","getElementById","ssrStatus","grid","ctrlKey","keyCode","activeInstance","supportChatIframes","postfix","instance","createElement","supportChatIframe","supportChatLoadedPromise","setAttribute","webim_visitor","Breakpoint","getBreakpoint","createSrc","appendChild","msg","onFocus","onBlur","hideSupportChat","onChatShownStateChanged","shown","online","source","handlerName","Function","deactivate","prehistory","unsubscribe","callbacks","listeners","eventHistory","getId","getUniqueId","listener","execute","currentListener","Listener","execHistory","dispatch","normalizedQuery","execListeners","shift","substr","execListener","listenersByKey","TEXT_CASES","printf","_convertData","format","symbol","formats","l","pluralize","words","remainder","numConversion","dontPrintNumber","capitalize","str","charAt","toUpperCase","slice","formatCost","cost","groupSeparator","forceShowCents","roundedCost","Number","toFixed","NumberFormatter","formatCostInCents","parseNumbers","iframe","checkInterval","checkIframeContent"],"sourceRoot":""}